(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,28373,(e,t,r)=>{"use strict";var n=e.i(43374);Object.defineProperty(r,"__esModule",{value:!0}),r.toBigIntLE=function(e){{let t=n.Buffer.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},r.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},r.toBufferLE=function(e,t){{let r=e.toString(16),i=n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}},r.toBufferBE=function(e,t){{let r=e.toString(16);return n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}}},42790,(e,t,r)=>{"use strict";var n=e.r(38820).Buffer;t.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==t[o])throw TypeError(s+" is ambiguous");t[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,s=0;e[r]===l;)i++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);r<e.length;){var d=e.charCodeAt(r);if(d>255)return;var h=t[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*u[p]>>>0,u[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw Error("Non-zero carry");s=f,r++}for(var _=o-s;_!==o&&0===u[_];)_++;var m=n.allocUnsafe(i+(o-_));m.fill(0,0,i);for(var g=i;_!==o;)m[g++]=u[_++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,s=0,o=t.length;s!==o&&0===t[s];)s++,r++;for(var c=(o-s)*u+1>>>0,d=new Uint8Array(c);s!==o;){for(var h=t[s],f=0,p=c-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");i=f,s++}for(var _=c-i;_!==c&&0===d[_];)_++;for(var m=l.repeat(r);_<c;++_)m+=e.charAt(d[_]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},45401,(e,t,r)=>{t.exports=e.r(42790)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3392,(e,t,r)=>{"use strict";let n=/[\p{Lu}]/u,i=/[\p{Ll}]/u,s=/^[\p{Lu}](?![\p{Lu}])/gu,o=/([\p{Alpha}\p{N}_]|$)/u,a=/[_.\- ]+/,l=RegExp("^"+a.source),c=RegExp(a.source+o.source,"gu"),u=RegExp("\\d+"+o.source,"gu"),d=(e,t)=>{var r,o;if(!("string"==typeof e||Array.isArray(e)))throw TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map(e=>e.trim()).filter(e=>e.length).join("-"):e.trim()).length)return"";let a=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),d=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?t.pascalCase?d(e):a(e):((e!==a(e)&&(e=((e,t,r)=>{let s=!1,o=!1,a=!1;for(let l=0;l<e.length;l++){let c=e[l];s&&n.test(c)?(e=e.slice(0,l)+"-"+e.slice(l),s=!1,a=o,o=!0,l++):o&&a&&i.test(c)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),a=o,o=!1,s=!0):(s=t(c)===c&&r(c)!==c,a=o,o=r(c)===c&&t(c)!==c)}return e})(e,a,d)),e=e.replace(l,""),t.preserveConsecutiveUppercase)?(r=e,s.lastIndex=0,e=r.replace(s,e=>a(e))):e=a(e),t.pascalCase&&(e=d(e.charAt(0))+e.slice(1)),o=e,c.lastIndex=0,u.lastIndex=0,o.replace(c,(e,t)=>d(t)).replace(u,e=>d(e)))};t.exports=d,t.exports.default=d},67504,(e,t,r)=>{"use strict";var n=e.i(43374);class i{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw Error("Layout is abstract")}encode(e,t,r){throw Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function s(e,t){return t.property?e+"["+t.property+"]":e}r.Layout=i,r.nameWithProperty=s,r.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw TypeError("Class must be constructor");if(e.hasOwnProperty("layout_"))throw Error("Class is already bound to a layout");if(!(t&&t instanceof i))throw TypeError("layout must be a Layout");if(t.hasOwnProperty("boundConstructor_"))throw Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};class o extends i{isCount(){throw Error("ExternalLayout is abstract")}}class a extends o{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){return void 0===t&&(t=0),Math.floor((e.length-t)/this.elementSpan)}encode(e,t,r){return 0}}class l extends o{constructor(e,t,r){if(!(e instanceof i))throw TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof c||this.layout instanceof u}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class c extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class u extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class d extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class h extends i{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}function f(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function p(e,t){return 0x100000000*e+t}class _ extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return p(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=f(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class m extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),p(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);let n=f(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class g extends i{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return p(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=f(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class y extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),p(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);let n=f(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class w extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class b extends i{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class v extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class R extends i{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class E extends i{constructor(e,t,r){if(!(e instanceof i))throw TypeError("elementLayout must be a Layout");if(!(t instanceof o&&t.isCount()||Number.isInteger(t)&&0<=t))throw TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;t instanceof o||!(0<e.span)||(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,n=this.count;if(n instanceof o&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t){void 0===t&&(t=0);let r=[],n=0,i=this.count;for(i instanceof o&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r){void 0===r&&(r=0);let n=this.elementLayout,i=e.reduce((e,i)=>e+n.encode(i,t,r+e),0);return this.count instanceof o&&this.count.encode(e.length,t,r),i}}class A extends i{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof i,!0)))throw TypeError("fields must be array of Layout instances");for(const n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);let n=r,i=0,s=0;for(let n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>o&&(o=n.getSpan(t,r)))}i=r,r+=o}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class N{constructor(e){this.property=e}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class x extends N{constructor(e,t){if(!(e instanceof o&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class O extends i{constructor(e,t,r){const n=e instanceof c||e instanceof u;if(n)e=new x(new l(e));else if(e instanceof o&&e.isCount())e=new x(e);else if(!(e instanceof N))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof i))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let s=-1;t&&0<=(s=t.span)&&n&&(s+=e.layout.span),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return a(e)},this.configGetSourceVariant=function(e){a=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);let n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=this.defaultLayout.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new T(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return n.Buffer.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class T extends i{constructor(e,t,r,n){if(!(e instanceof O))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof i))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let s=e.span;0>e.span&&0<=(s=r?r.span:0)&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span),super(s,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){let r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function I(e){return 0>e&&(e+=0x100000000),e}class S extends i{constructor(e,t,r){if(!(e instanceof c||e instanceof u))throw TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=I(e),this},this._packedGetValue=function(){return n}}decode(e,t){let r=this.makeDestinationObject();void 0===t&&(t=0);let n=this.word.decode(e,t);for(let e of(this._packedSetValue(n),this.fields))void 0!==e.property&&(r[e.property]=e.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);let n=this.word.decode(t,r);for(let t of(this._packedSetValue(n),this.fields))if(void 0!==t.property){let r=e[t.property];void 0!==r&&t.encode(r)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){let r=new C(this,e,t);return this.fields.push(r),r}addBoolean(e){let t=new k(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}}class C{constructor(e,t,r){if(!(e instanceof S))throw TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>n)throw Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=0xffffffff),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=I(this.valueMask<<this.start),this.property=r}decode(){return I(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==I(e&this.valueMask))throw TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let t=this.container._packedGetValue(),r=I(e<<this.start);this.container._packedSetValue(I(t&~this.wordMask)|r)}}class k extends C{constructor(e,t){super(e,1,t)}decode(e,t){return!!C.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e*=1),C.prototype.encode.call(this,e)}}class L extends i{constructor(e,t){if(!(e instanceof o&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof o||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof o&&(i=e.length),!(n.Buffer.isBuffer(e)&&i===e.length))throw TypeError(s("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof o&&this.length.encode(i,t,r),i}}class D extends i{constructor(e){super(-1,e)}getSpan(e,t){if(!n.Buffer.isBuffer(e))throw TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());let i=new n.Buffer(e,"utf8"),s=i.length;if(r+s>t.length)throw RangeError("encoding overruns Buffer");return i.copy(t,r),t[r+s]=0,s+1}}class U extends i{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!n.Buffer.isBuffer(e))throw TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());let i=new n.Buffer(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw RangeError("text length exceeds maxSpan");if(r+s>t.length)throw RangeError("encoding overruns Buffer");return i.copy(t,r),s}}class P extends i{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}r.ExternalLayout=o,r.GreedyCount=a,r.OffsetLayout=l,r.UInt=c,r.UIntBE=u,r.Int=d,r.IntBE=h,r.Float=w,r.FloatBE=b,r.Double=v,r.DoubleBE=R,r.Sequence=E,r.Structure=A,r.UnionDiscriminator=N,r.UnionLayoutDiscriminator=x,r.Union=O,r.VariantLayout=T,r.BitStructure=S,r.BitField=C,r.Boolean=k,r.Blob=L,r.CString=D,r.UTF8=U,r.Constant=P,r.greedy=(e,t)=>new a(e,t),r.offset=(e,t,r)=>new l(e,t,r),r.u8=e=>new c(1,e),r.u16=e=>new c(2,e),r.u24=e=>new c(3,e),r.u32=e=>new c(4,e),r.u40=e=>new c(5,e),r.u48=e=>new c(6,e),r.nu64=e=>new _(e),r.u16be=e=>new u(2,e),r.u24be=e=>new u(3,e),r.u32be=e=>new u(4,e),r.u40be=e=>new u(5,e),r.u48be=e=>new u(6,e),r.nu64be=e=>new m(e),r.s8=e=>new d(1,e),r.s16=e=>new d(2,e),r.s24=e=>new d(3,e),r.s32=e=>new d(4,e),r.s40=e=>new d(5,e),r.s48=e=>new d(6,e),r.ns64=e=>new g(e),r.s16be=e=>new h(2,e),r.s24be=e=>new h(3,e),r.s32be=e=>new h(4,e),r.s40be=e=>new h(5,e),r.s48be=e=>new h(6,e),r.ns64be=e=>new y(e),r.f32=e=>new w(e),r.f32be=e=>new b(e),r.f64=e=>new v(e),r.f64be=e=>new R(e),r.struct=(e,t,r)=>new A(e,t,r),r.bits=(e,t,r)=>new S(e,t,r),r.seq=(e,t,r)=>new E(e,t,r),r.union=(e,t,r)=>new O(e,t,r),r.unionLayoutDiscriminator=(e,t)=>new x(e,t),r.blob=(e,t)=>new L(e,t),r.cstr=e=>new D(e),r.utf8=(e,t)=>new U(e,t),r.const=(e,t)=>new P(e,t)},36998,(e,t,r)=>{"use strict";var n=e.i(43374),i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.map=r.array=r.rustEnum=r.str=r.vecU8=r.tagged=r.vec=r.bool=r.option=r.publicKey=r.i256=r.u256=r.i128=r.u128=r.i64=r.u64=r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0;let s=e.r(67504),o=e.r(49740),a=i(e.r(71342));var l=e.r(67504);Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return l.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return l.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return l.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return l.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return l.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return l.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return l.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return l.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return l.struct}});class c extends s.Layout{constructor(e,t,r){super(e,r),this.blob=(0,s.blob)(e),this.signed=t}decode(e,t=0){let r=new a.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(n.Buffer,"le",this.span),t,r)}}function u(e){return new c(8,!1,e)}r.u64=u,r.i64=function(e){return new c(8,!0,e)},r.u128=function(e){return new c(16,!1,e)},r.i128=function(e){return new c(16,!0,e)},r.u256=function(e){return new c(32,!1,e)},r.i256=function(e){return new c(32,!0,e)};class d extends s.Layout{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}r.publicKey=function(e){return new d((0,s.blob)(32),e=>new o.PublicKey(e),e=>e.toBuffer(),e)};class h extends s.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,s.u8)()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw Error("Invalid option "+this.property)}getSpan(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw Error("Invalid option "+this.property)}}function f(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function p(e){return+!!e}function _(e){let t=(0,s.u32)("length");return new d((0,s.struct)([t,(0,s.blob)((0,s.offset)(t,-t.span),"data")]),({data:e})=>e,e=>({data:e}),e)}r.option=function(e,t){return new h(e,t)},r.bool=function(e){return new d((0,s.u8)(),f,p,e)},r.vec=function(e,t){let r=(0,s.u32)("length");return new d((0,s.struct)([r,(0,s.seq)(e,(0,s.offset)(r,-r.span),"values")]),({values:e})=>e,e=>({values:e}),t)},r.tagged=function(e,t,r){return new d((0,s.struct)([u("tag"),t.replicate("data")]),function({tag:t,data:r}){if(!t.eq(e))throw Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return r},t=>({tag:e,data:t}),r)},r.vecU8=_,r.str=function(e){return new d(_(),e=>e.toString("utf-8"),e=>n.Buffer.from(e,"utf-8"),e)},r.rustEnum=function(e,t,r){let n=(0,s.union)(null!=r?r:(0,s.u8)(),t);return e.forEach((e,t)=>n.addVariant(t,e,e.property)),n},r.array=function(e,t,r){return new d((0,s.struct)([(0,s.seq)(e,t,"values")]),({values:e})=>e,e=>({values:e}),r)};class m extends s.Layout{constructor(e,t,r){super(e.span+t.span,r),this.keyLayout=e,this.valueLayout=t}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,r){r=r||0;let n=this.keyLayout.encode(e[0],t,r),i=this.valueLayout.encode(e[1],t,r+n);return n+i}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}r.map=function(e,t,r){let n=(0,s.u32)("length");return new d((0,s.struct)([n,(0,s.seq)(new m(e,t),(0,s.offset)(n,-n.span),"values")]),({values:e})=>new Map(e),e=>({values:Array.from(e.entries())}),r)}},79158,(e,t,r)=>{"use strict";var n=Object.prototype.hasOwnProperty,i="~";function s(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,r,n,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var a=new o(r,n||e,s),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new s:delete e._events[t]}function c(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,o=Array(s);n<s;n++)o[n]=r[n].fn;return o},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,s,o){var a=i?i+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,s),!0;case 6:return u.fn.call(u.context,t,r,n,s,o),!0}for(c=1,l=Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,n);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return l(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||l(this,s);else{for(var a=0,c=[],u=o.length;a<u;a++)(o[a].fn!==t||n&&!o[a].once||r&&o[a].context!==r)&&c.push(o[a]);c.length?this._events[s]=1===c.length?c[0]:c:l(this,s)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&l(this,t)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},80438,e=>{"use strict";let t,r,n,i,s,o;var a,l,c,u,d,h,f,p,_,m=e.i(43009),g=e.i(43374),y=e.i(40341),w=e.i(14773),b=e.i(19186),v=e.i(28525),R=e.i(30199),E=e.i(4358);function A({walletIcon:e,walletName:t,...r}){return b.default.createElement(R.Button,{...r,className:"wallet-adapter-button-trigger",startIcon:e&&t?b.default.createElement(E.WalletIcon,{wallet:{adapter:{icon:e,name:t}}}):void 0})}var N=e.i(66823);function x({children:e,labels:t,...r}){let{setVisible:n}=(0,N.useWalletModal)(),{buttonState:i,onConnect:s,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=function({onSelectWallet:e}){let t,{connect:r,connected:n,connecting:i,disconnect:s,disconnecting:o,publicKey:a,select:l,wallet:c,wallets:u}=(0,v.useWallet)();t=i?"connecting":n?"connected":o?"disconnecting":c?"has-wallet":"no-wallet";let d=(0,b.useCallback)(()=>{r().catch(()=>{})},[r]),h=(0,b.useCallback)(()=>{s().catch(()=>{})},[s]);return{buttonState:t,onConnect:"has-wallet"===t?d:void 0,onDisconnect:"disconnecting"!==t&&"no-wallet"!==t?h:void 0,onSelectWallet:(0,b.useCallback)(()=>{e({onSelectWallet:l,wallets:u})},[e,l,u]),publicKey:a??void 0,walletIcon:c?.adapter.icon,walletName:c?.adapter.name}}({onSelectWallet(){n(!0)}}),[u,d]=(0,b.useState)(!1),[h,f]=(0,b.useState)(!1),p=(0,b.useRef)(null);(0,b.useEffect)(()=>{let e=e=>{let t=p.current;!t||t.contains(e.target)||f(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);let _=(0,b.useMemo)(()=>{if(e)return e;if(a){let e=a.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===i||"has-wallet"===i?t[i]:t["no-wallet"]},[i,e,t,a]);return b.default.createElement("div",{className:"wallet-adapter-dropdown"},b.default.createElement(A,{...r,"aria-expanded":h,style:{pointerEvents:h?"none":"auto",...r.style},onClick:()=>{switch(i){case"no-wallet":n(!0);break;case"has-wallet":s&&s();break;case"connected":f(!0)}},walletIcon:l,walletName:c},_),b.default.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${h&&"wallet-adapter-dropdown-list-active"}`,ref:p,role:"menu"},a?b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),d(!0),setTimeout(()=>d(!1),400)},role:"menuitem"},u?t.copied:t["copy-address"]):null,b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),f(!1)},role:"menuitem"},t["change-wallet"]),o?b.default.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),f(!1)},role:"menuitem"},t.disconnect):null))}let O={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function T(e){return b.default.createElement(x,{...e,labels:O})}var I=e.i(34056),S=e.i(49740),C=e.i(88945);let k=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var L=e.i(28373);let D=e=>t=>{let r=(0,C.blob)(e,t),{encode:n,decode:i}=k(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,L.toBigIntLE)(g.Buffer.from(r))},r.encode=(t,r,i)=>n((0,L.toBufferLE)(t,e),r,i),r},U=e=>t=>{let r=(0,C.blob)(e,t),{encode:n,decode:i}=k(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,L.toBigIntBE)(g.Buffer.from(r))},r.encode=(t,r,i)=>n((0,L.toBufferBE)(t,e),r,i),r},P=D(8);U(8),D(16),U(16),D(24),U(24),D(32),U(32);var B=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,M=Math.ceil,j=Math.floor,H="[BigNumber Error] ",z=H+"Number primitive has more than 15 significant digits: ",K=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function G(e){var t=0|e;return e>0||e===t?t:t-1}function F(e){for(var t,r,n=1,i=e.length,s=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);s+=t}for(i=s.length;48===s.charCodeAt(--i););return s.slice(0,i+1||1)}function V(e,t){var r,n,i=e.c,s=t.c,o=e.s,a=t.s,l=e.e,c=t.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=l==c,!i||!s)return n?0:!i^r?1:-1;if(!n)return l>c^r?1:-1;for(o=0,a=(l=i.length)<(c=s.length)?l:c;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return l==c?0:l>c^r?1:-1}function $(e,t,r,n){if(e<t||e>r||e!==j(e))throw Error(H+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Z(e){var t=e.c.length-1;return G(e.e/14)==t&&e.c[t]%2!=0}function q(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function X(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}new(function e(t){var r,n,i,s,o,a,l,c,u,d=N.prototype={constructor:N,toString:null,valueOf:null},h=new N(1),f=20,p=4,_=-7,m=21,g=-1e7,y=1e7,w=!1,b=1,v=0,R={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"Â ",suffix:""},E="0123456789abcdefghijklmnopqrstuvwxyz",A=!0;function N(e,t){var r,n,i,s,o,a,l,d,h=this;if(!(h instanceof N))return new N(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>y?h.c=h.e=null:e.e<g?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((a="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,o=e;o>=10;o/=10,s++);s>y?h.c=h.e=null:(h.e=s,h.c=[e]);return}d=String(e)}else{if(!B.test(d=String(e)))return u(h,d,a);h.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(o=d.search(/e/i))>0?(s<0&&(s=o),s+=+d.slice(o+1),d=d.substring(0,o)):s<0&&(s=d.length)}else{if($(t,2,E.length,"Base"),10==t&&A)return I(h=new N(e),f+h.e+1,p);if(d=String(e),a="number"==typeof e){if(0*e!=0)return u(h,d,a,t);if(h.s=1/e<0?(d=d.slice(1),-1):1,N.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(z+e)}else h.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(r=E.slice(0,t),s=o=0,l=d.length;o<l;o++)if(0>r.indexOf(n=d.charAt(o))){if("."==n){if(o>s){s=l;continue}}else if(!i&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){i=!0,o=-1,s=0;continue}return u(h,String(e),a,t)}a=!1,(s=(d=c(d,t,10,h.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(o=0;48===d.charCodeAt(o);o++);for(l=d.length;48===d.charCodeAt(--l););if(d=d.slice(o,++l)){if(l-=o,a&&N.DEBUG&&l>15&&(e>0x1fffffffffffff||e!==j(e)))throw Error(z+h.s*e);if((s=s-o-1)>y)h.c=h.e=null;else if(s<g)h.c=[h.e=0];else{if(h.e=s,h.c=[],o=(s+1)%14,s<0&&(o+=14),o<l){for(o&&h.c.push(+d.slice(0,o)),l-=14;o<l;)h.c.push(+d.slice(o,o+=14));o=14-(d=d.slice(o)).length}else o-=l;for(;o--;d+="0");h.c.push(+d)}}else h.c=[h.e=0]}function x(e,t,r,n){var i,s,o,a,l;if(null==r?r=p:$(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)l=F(e.c),l=1==n||2==n&&(o<=_||o>=m)?q(l,o):X(l,o,"0");else if(s=(e=I(new N(e),t,r)).e,a=(l=F(e.c)).length,1==n||2==n&&(t<=s||s<=_)){for(;a<t;l+="0",a++);l=q(l,s)}else if(t-=o+(2===n&&s>o),l=X(l,s,"0"),s+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=s-a)>0)for(s+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function O(e,t){for(var r,n,i=1,s=new N(e[0]);i<e.length;i++)(n=new N(e[i])).s&&(r=V(s,n))!==t&&(0!==r||s.s!==t)||(s=n);return s}function T(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>y?e.c=e.e=null:r<g?e.c=[e.e=0]:(e.e=r,e.c=t),e}function I(e,t,r,n){var i,s,o,a,l,c,u,d=e.c;if(d){e:{for(i=1,a=d[0];a>=10;a/=10,i++);if((s=t-i)<0)s+=14,o=t,u=j((l=d[c=0])/K[i-o-1]%10);else if((c=M((s+1)/14))>=d.length)if(n){for(;d.length<=c;d.push(0));l=u=0,i=1,s%=14,o=s-14+1}else break e;else{for(i=1,l=a=d[c];a>=10;a/=10,i++);s%=14,u=(o=s-14+i)<0?0:j(l/K[i-o-1]%10)}if(n=n||t<0||null!=d[c+1]||(o<0?l:l%K[i-o-1]),n=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(s>0?o>0?l/K[i-o]:0:d[c-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,n?(t-=e.e+1,d[0]=K[(14-t%14)%14],e.e=-t||0):d[0]=e.e=0,e;if(0==s?(d.length=c,a=1,c--):(d.length=c+1,a=K[14-s],d[c]=o>0?j(l/K[i-o]%K[o])*a:0),n)for(;;)if(0==c){for(s=1,o=d[0];o>=10;o/=10,s++);for(o=d[0]+=a,a=1;o>=10;o/=10,a++);s!=a&&(e.e++,1e14==d[0]&&(d[0]=1));break}else{if(d[c]+=a,1e14!=d[c])break;d[c--]=0,a=1}for(s=d.length;0===d[--s];d.pop());}e.e>y?e.c=e.e=null:e.e<g&&(e.c=[e.e=0])}return e}function S(e){var t,r=e.e;return null===r?e.toString():(t=F(e.c),t=r<=_||r>=m?q(t,r):X(t,r,"0"),e.s<0?"-"+t:t)}return N.clone=e,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&($(r=e[t],0,1e9,t),f=r),e.hasOwnProperty(t="ROUNDING_MODE")&&($(r=e[t],0,8,t),p=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?($(r[0],-1e9,0,t),$(r[1],0,1e9,t),_=r[0],m=r[1]):($(r,-1e9,1e9,t),_=-(m=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)$(r[0],-1e9,-1,t),$(r[1],1,1e9,t),g=r[0],y=r[1];else if($(r,-1e9,1e9,t),r)g=-(y=r<0?-r:r);else throw Error(H+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))w=r;else throw w=!r,Error(H+"crypto unavailable");else w=r;else throw Error(H+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&($(r=e[t],0,9,t),b=r),e.hasOwnProperty(t="POW_PRECISION")&&($(r=e[t],0,1e9,t),v=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))R=r;else throw Error(H+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(H+t+" invalid: "+r);A="0123456789"==r.slice(0,10),E=r}}else throw Error(H+"Object expected: "+e);return{DECIMAL_PLACES:f,ROUNDING_MODE:p,EXPONENTIAL_AT:[_,m],RANGE:[g,y],CRYPTO:w,MODULO_MODE:b,POW_PRECISION:v,FORMAT:R,ALPHABET:E}},N.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!N.DEBUG)return!0;var t,r,n=e.c,i=e.e,s=e.s;e:if("[object Array]"==({}).toString.call(n)){if((1===s||-1===s)&&i>=-1e9&&i<=1e9&&i===j(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==j(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===s||1===s||-1===s))return!0;throw Error(H+"Invalid BigNumber: "+e)},N.maximum=N.max=function(){return O(arguments,-1)},N.minimum=N.min=function(){return O(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return j(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},N.random=function(e){var t,n,i,s,o,a=0,l=[],c=new N(h);if(null==e?e=f:$(e,0,1e9),s=M(e/14),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));a<s;)(o=131072*t[a]+(t[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[a]=n[0],t[a+1]=n[1]):(l.push(o%1e14),a+=2);a=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);a<s;)(o=(31&t[a])*0x1000000000000+0x10000000000*t[a+1]+0x100000000*t[a+2]+0x1000000*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(l.push(o%1e14),a+=7);a=s/7}else throw w=!1,Error(H+"crypto unavailable");if(!w)for(;a<s;)(o=r())<9e15&&(l[a++]=o%1e14);for(s=l[--a],e%=14,s&&e&&(o=K[14-e],l[a]=j(s/o)*o);0===l[a];l.pop(),a--);if(a<0)l=[i=0];else{for(i=-1;0===l[0];l.splice(0,1),i-=14);for(a=1,o=l[0];o>=10;o/=10,a++);a<14&&(i-=14-a)}return c.e=i,c.c=l,c},N.sum=function(){for(var e=1,t=arguments,r=new N(t[0]);e<t.length;)r=r.plus(t[e++]);return r},c=function(){var e="0123456789";function t(e,t,r,n){for(var i,s,o=[0],a=0,l=e.length;a<l;){for(s=o.length;s--;o[s]*=t);for(o[0]+=n.indexOf(e.charAt(a++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(r,n,i,s,o){var a,c,u,d,h,_,m,g,y=r.indexOf("."),w=f,b=p;for(y>=0&&(d=v,v=0,r=r.replace(".",""),_=(g=new N(n)).pow(r.length-y),v=d,g.c=t(X(F(_.c),_.e,"0"),10,i,e),g.e=g.c.length),u=d=(m=t(r,n,i,o?(a=E,e):(a=e,E))).length;0==m[--d];m.pop());if(!m[0])return a.charAt(0);if(y<0?--u:(_.c=m,_.e=u,_.s=s,m=(_=l(_,g,w,b,i)).c,h=_.r,u=_.e),y=m[c=u+w+1],d=i/2,h=h||c<0||null!=m[c+1],h=b<4?(null!=y||h)&&(0==b||b==(_.s<0?3:2)):y>d||y==d&&(4==b||h||6==b&&1&m[c-1]||b==(_.s<0?8:7)),c<1||!m[0])r=h?X(a.charAt(1),-w,a.charAt(0)):a.charAt(0);else{if(m.length=c,h)for(--i;++m[--c]>i;)m[c]=0,c||(++u,m=[1].concat(m));for(d=m.length;!m[--d];);for(y=0,r="";y<=d;r+=a.charAt(m[y++]));r=X(r,u,a.charAt(0))}return r}}(),l=function(){function e(e,t,r){var n,i,s,o,a=0,l=e.length,c=t%1e7,u=t/1e7|0;for(e=e.slice();l--;)n=u*(s=e[l]%1e7)+(o=e[l]/1e7|0)*c,a=((i=c*s+n%1e7*1e7+a)/r|0)+(n/1e7|0)+u*o,e[l]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,s;if(r!=n)s=r>n?1:-1;else for(i=s=0;i<r;i++)if(e[i]!=t[i]){s=e[i]>t[i]?1:-1;break}return s}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,s,o,a){var l,c,u,d,h,f,p,_,m,g,y,w,b,v,R,E,A,x=n.s==i.s?1:-1,O=n.c,T=i.c;if(!O||!O[0]||!T||!T[0])return new N(!n.s||!i.s||(O?T&&O[0]==T[0]:!T)?NaN:O&&0==O[0]||!T?0*x:x/0);for(m=(_=new N(x)).c=[],x=s+(c=n.e-i.e)+1,a||(a=1e14,c=G(n.e/14)-G(i.e/14),x=x/14|0),u=0;T[u]==(O[u]||0);u++);if(T[u]>(O[u]||0)&&c--,x<0)m.push(1),d=!0;else{for(v=O.length,E=T.length,u=0,x+=2,(h=j(a/(T[0]+1)))>1&&(T=e(T,h,a),O=e(O,h,a),E=T.length,v=O.length),b=E,y=(g=O.slice(0,E)).length;y<E;g[y++]=0);A=[0].concat(A=T.slice()),R=T[0],T[1]>=a/2&&R++;do{if(h=0,(l=t(T,g,E,y))<0){if(w=g[0],E!=y&&(w=w*a+(g[1]||0)),(h=j(w/R))>1)for(h>=a&&(h=a-1),p=(f=e(T,h,a)).length,y=g.length;1==t(f,g,p,y);)h--,r(f,E<p?A:T,p,a),p=f.length,l=1;else 0==h&&(l=h=1),p=(f=T.slice()).length;if(p<y&&(f=[0].concat(f)),r(g,f,y,a),y=g.length,-1==l)for(;1>t(T,g,E,y);)h++,r(g,E<y?A:T,y,a),y=g.length}else 0===l&&(h++,g=[0]);m[u++]=h,g[0]?g[y++]=O[b]||0:(g=[O[b]],y=1)}while((b++<v||null!=g[0])&&x--)d=null!=g[0],m[0]||m.splice(0,1)}if(1e14==a){for(u=1,x=m[0];x>=10;x/=10,u++);I(_,s+(_.e=u+14*c-1)+1,o,d)}else _.e=c,_.r=+d;return _}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,s=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g,u=function(e,t,r,l){var c,u=r?t:t.replace(a,"");if(o.test(u))e.s=isNaN(u)?null:u<0?-1:1;else{if(!r&&(u=u.replace(n,function(e,t,r){return c="x"==(r=r.toLowerCase())?16:"b"==r?2:8,l&&l!=c?e:t}),l&&(c=l,u=u.replace(i,"$1").replace(s,"0.$1")),t!=u))return new N(u,c);if(N.DEBUG)throw Error(H+"Not a"+(l?" base "+l:"")+" number: "+t);e.s=null}e.c=e.e=null},d.absoluteValue=d.abs=function(){var e=new N(this);return e.s<0&&(e.s=1),e},d.comparedTo=function(e,t){return V(this,new N(e,t))},d.decimalPlaces=d.dp=function(e,t){var r,n,i;if(null!=e)return $(e,0,1e9),null==t?t=p:$(t,0,8),I(new N(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-G(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},d.dividedBy=d.div=function(e,t){return l(this,new N(e,t),f,p)},d.dividedToIntegerBy=d.idiv=function(e,t){return l(this,new N(e,t),0,1)},d.exponentiatedBy=d.pow=function(e,t){var r,n,i,s,o,a,l,c,u,d=this;if((e=new N(e)).c&&!e.isInteger())throw Error(H+"Exponent not an integer: "+S(e));if(null!=t&&(t=new N(t)),a=e.e>14,!d.c||!d.c[0]||1==d.c[0]&&!d.e&&1==d.c.length||!e.c||!e.c[0])return u=new N(Math.pow(+S(d),a?e.s*(2-Z(e)):+S(e))),t?u.mod(t):u;if(l=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new N(NaN);(n=!l&&d.isInteger()&&t.isInteger())&&(d=d.mod(t))}else{if(e.e>9&&(d.e>0||d.e<-1||(0==d.e?d.c[0]>1||a&&d.c[1]>=24e7:d.c[0]<8e13||a&&d.c[0]<=9999975e7)))return s=d.s<0&&Z(e)?-0:0,d.e>-1&&(s=1/s),new N(l?1/s:s);v&&(s=M(v/14+2))}for(a?(r=new N(.5),l&&(e.s=1),c=Z(e)):c=(i=Math.abs(+S(e)))%2,u=new N(h);;){if(c){if(!(u=u.times(d)).c)break;s?u.c.length>s&&(u.c.length=s):n&&(u=u.mod(t))}if(i){if(0===(i=j(i/2)))break;c=i%2}else if(I(e=e.times(r),e.e+1,1),e.e>14)c=Z(e);else{if(0==(i=+S(e)))break;c=i%2}d=d.times(d),s?d.c&&d.c.length>s&&(d.c.length=s):n&&(d=d.mod(t))}return n?u:(l&&(u=h.div(u)),t?u.mod(t):s?I(u,v,p,o):u)},d.integerValue=function(e){var t=new N(this);return null==e?e=p:$(e,0,8),I(t,t.e+1,e)},d.isEqualTo=d.eq=function(e,t){return 0===V(this,new N(e,t))},d.isFinite=function(){return!!this.c},d.isGreaterThan=d.gt=function(e,t){return V(this,new N(e,t))>0},d.isGreaterThanOrEqualTo=d.gte=function(e,t){return 1===(t=V(this,new N(e,t)))||0===t},d.isInteger=function(){return!!this.c&&G(this.e/14)>this.c.length-2},d.isLessThan=d.lt=function(e,t){return 0>V(this,new N(e,t))},d.isLessThanOrEqualTo=d.lte=function(e,t){return -1===(t=V(this,new N(e,t)))||0===t},d.isNaN=function(){return!this.s},d.isNegative=function(){return this.s<0},d.isPositive=function(){return this.s>0},d.isZero=function(){return!!this.c&&0==this.c[0]},d.minus=function(e,t){var r,n,i,s,o=this.s;if(t=(e=new N(e,t)).s,!o||!t)return new N(NaN);if(o!=t)return e.s=-t,this.plus(e);var a=this.e/14,l=e.e/14,c=this.c,u=e.c;if(!a||!l){if(!c||!u)return c?(e.s=-t,e):new N(u?this:NaN);if(!c[0]||!u[0])return u[0]?(e.s=-t,e):new N(c[0]?this:3==p?-0:0)}if(a=G(a),l=G(l),c=c.slice(),o=a-l){for((s=o<0)?(o=-o,i=c):(l=a,i=u),i.reverse(),t=o;t--;i.push(0));i.reverse()}else for(n=(s=(o=c.length)<(t=u.length))?o:t,o=t=0;t<n;t++)if(c[t]!=u[t]){s=c[t]<u[t];break}if(s&&(i=c,c=u,u=i,e.s=-e.s),(t=(n=u.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=1e14-1;n>o;){if(c[--n]<u[n]){for(r=n;r&&!c[--r];c[r]=t);--c[r],c[n]+=1e14}c[n]-=u[n]}for(;0==c[0];c.splice(0,1),--l);return c[0]?T(e,c,l):(e.s=3==p?-1:1,e.c=[e.e=0],e)},d.modulo=d.mod=function(e,t){var r,n;return(e=new N(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==b?(n=e.s,e.s=1,r=l(this,e,0,3),e.s=n,r.s*=n):r=l(this,e,0,b),(e=this.minus(r.times(e))).c[0]||1!=b||(e.s=this.s),e):new N(this):new N(NaN)},d.multipliedBy=d.times=function(e,t){var r,n,i,s,o,a,l,c,u,d,h,f,p,_=this.c,m=(e=new N(e,t)).c;if(!_||!m||!_[0]||!m[0])return this.s&&e.s&&(!_||_[0]||m)&&(!m||m[0]||_)?(e.s*=this.s,_&&m?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=G(this.e/14)+G(e.e/14),e.s*=this.s,(l=_.length)<(d=m.length)&&(p=_,_=m,m=p,i=l,l=d,d=i),i=l+d,p=[];i--;p.push(0));for(i=d;--i>=0;){for(r=0,h=m[i]%1e7,f=m[i]/1e7|0,s=i+(o=l);s>i;)a=f*(c=_[--o]%1e7)+(u=_[o]/1e7|0)*h,r=((c=h*c+a%1e7*1e7+p[s]+r)/1e14|0)+(a/1e7|0)+f*u,p[s--]=c%1e14;p[s]=r}return r?++n:p.splice(0,1),T(e,p,n)},d.negated=function(){var e=new N(this);return e.s=-e.s||null,e},d.plus=function(e,t){var r,n=this.s;if(t=(e=new N(e,t)).s,!n||!t)return new N(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,s=e.e/14,o=this.c,a=e.c;if(!i||!s){if(!o||!a)return new N(n/0);if(!o[0]||!a[0])return a[0]?e:new N(o[0]?this:0*n)}if(i=G(i),s=G(s),o=o.slice(),n=i-s){for(n>0?(s=i,r=a):(n=-n,r=o),r.reverse();n--;r.push(0));r.reverse()}for((n=o.length)-(t=a.length)<0&&(r=a,a=o,o=r,t=n),n=0;t;)n=(o[--t]=o[t]+a[t]+n)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return n&&(o=[n].concat(o),++s),T(e,o,s)},d.precision=d.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return $(e,1,1e9),null==t?t=p:$(t,0,8),I(new N(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},d.shiftedBy=function(e){return $(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},d.squareRoot=d.sqrt=function(){var e,t,r,n,i,s=this.c,o=this.s,a=this.e,c=f+4,u=new N("0.5");if(1!==o||!s||!s[0])return new N(!o||o<0&&(!s||s[0])?NaN:s?this:1/0);if(0==(o=Math.sqrt(+S(this)))||o==1/0?(((t=F(s)).length+a)%2==0&&(t+="0"),o=Math.sqrt(+t),a=G((a+1)/2)-(a<0||a%2),r=new N(t=o==1/0?"5e"+a:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+a)):r=new N(o+""),r.c[0]){for((o=(a=r.e)+c)<3&&(o=0);;)if(i=r,r=u.times(i.plus(l(this,i,c,1))),F(i.c).slice(0,o)===(t=F(r.c)).slice(0,o)){if(r.e<a&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(I(r,r.e+f+2,1),e=!r.times(r).eq(this));break}if(!n&&(I(i,i.e+f+2,0),i.times(i).eq(this))){r=i;break}c+=4,o+=4,n=1}}return I(r,r.e+f+1,p,e)},d.toExponential=function(e,t){return null!=e&&($(e,0,1e9),e++),x(this,e,t,1)},d.toFixed=function(e,t){return null!=e&&($(e,0,1e9),e=e+this.e+1),x(this,e,t)},d.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=R;else if("object"!=typeof r)throw Error(H+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,s=n.split("."),o=+r.groupSize,a=+r.secondaryGroupSize,l=r.groupSeparator||"",c=s[0],u=s[1],d=this.s<0,h=d?c.slice(1):c,f=h.length;if(a&&(i=o,o=a,a=i,f-=i),o>0&&f>0){for(i=f%o||o,c=h.substr(0,i);i<f;i+=o)c+=l+h.substr(i,o);a>0&&(c+=l+h.slice(i)),d&&(c="-"+c)}n=u?c+(r.decimalSeparator||"")+((a=+r.fractionGroupSize)?u.replace(RegExp("\\d{"+a+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):u):c}return(r.prefix||"")+n+(r.suffix||"")},d.toFraction=function(e){var t,r,n,i,s,o,a,c,u,d,f,_,m=this.c;if(null!=e&&(!(a=new N(e)).isInteger()&&(a.c||1!==a.s)||a.lt(h)))throw Error(H+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+S(a));if(!m)return new N(this);for(t=new N(h),u=r=new N(h),n=c=new N(h),_=F(m),s=t.e=_.length-this.e-1,t.c[0]=K[(o=s%14)<0?14+o:o],e=!e||a.comparedTo(t)>0?s>0?t:u:a,o=y,y=1/0,a=new N(_),c.c[0]=0;d=l(a,t,0,1),1!=(i=r.plus(d.times(n))).comparedTo(e);)r=n,n=i,u=c.plus(d.times(i=u)),c=i,t=a.minus(d.times(i=t)),a=i;return i=l(e.minus(r),n,0,1),c=c.plus(i.times(u)),r=r.plus(i.times(n)),c.s=u.s=this.s,s*=2,f=1>l(u,n,s,p).minus(this).abs().comparedTo(l(c,r,s,p).minus(this).abs())?[u,n]:[c,r],y=o,f},d.toNumber=function(){return+S(this)},d.toPrecision=function(e,t){return null!=e&&$(e,1,1e9),x(this,e,t,2)},d.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=_||i>=m?q(F(r.c),i):X(F(r.c),i,"0"):10===e&&A?t=X(F((r=I(new N(r),f+i+1,p)).c),r.e,"0"):($(e,2,E.length,"Base"),t=c(X(F(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},d.valueOf=d.toJSON=function(){return S(this)},d._isBigNumber=!0,d[Symbol.toStringTag]="BigNumber",d[Symbol.for("nodejs.util.inspect.custom")]=d.valueOf,null!=t&&N.set(t),N}())("1e+18");let Y=e=>{let t=(0,C.blob)(32,e),{encode:r,decode:n}=k(t);return t.decode=(e,t)=>{let r=n(e,t);return new S.PublicKey(r)},t.encode=(e,t,n)=>r(e.toBuffer(),t,n),t},W=new S.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new S.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");let Q=new S.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new S.PublicKey("So11111111111111111111111111111111111111112"),new S.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");class J extends Error{constructor(e){super(e)}}class ee extends J{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}(0,C.struct)([(0,C.u32)("mintAuthorityOption"),Y("mintAuthority"),P("supply"),(0,C.u8)("decimals"),(e=>{let t=(0,C.u8)(e),{encode:r,decode:n}=k(t);return t.decode=(e,t)=>!!n(e,t),t.encode=(e,t,n)=>r(Number(e),t,n),t})("isInitialized"),(0,C.u32)("freezeAuthorityOption"),Y("freezeAuthority")]).span;let et=async(e,t,r,n)=>{console.log("Executing tick for session:",t.toBase58());let[i]=S.PublicKey.findProgramAddressSync([g.Buffer.from("vault"),t.toBuffer()],e.programId),s=function(e,t,r=!1,n=W,i=Q){if(!r&&!S.PublicKey.isOnCurve(t.toBuffer()))throw new ee;let[s]=S.PublicKey.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return s}(n,r);try{let r=await e.methods.tick().accounts({session:t,vault:i,hostToken:s}).rpc();return console.log("Tick successful, tx:",r),r}catch(e){throw console.error("Tick failed:",e),e}};var er=e.i(99778),en=e.i(71342),ei=e.i(45401),es=e.i(3392),eo=e.i(36998);function ea(e){let t=e.length;for(;--t>=0;)e[t]=0}e.i(2147);let el=573,ec=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),eu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ed=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eh=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ef=Array(576);ea(ef);let ep=Array(60);ea(ep);let e_=Array(512);ea(e_);let em=Array(256);ea(em);let eg=Array(29);ea(eg);let ey=Array(30);function ew(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function eb(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ea(ey);let ev=e=>e<256?e_[e]:e_[256+(e>>>7)],eR=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},eE=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,eR(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},eA=(e,t,r)=>{eE(e,r[2*t],r[2*t+1])},eN=(e,t)=>{let r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1},ex=(e,t,r)=>{let n,i,s=Array(16),o=0;for(n=1;n<=15;n++)o=o+r[n-1]<<1,s[n]=o;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=eN(s[t]++,t))}},eO=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},eT=e=>{e.bi_valid>8?eR(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},eI=(e,t,r,n)=>{let i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},eS=(e,t,r)=>{let n=e.heap[r],i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&eI(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!eI(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},eC=(e,t,r)=>{let n,i,s,o,a=0;if(0!==e.sym_next)do n=(255&e.pending_buf[e.sym_buf+a++])+((255&e.pending_buf[e.sym_buf+a++])<<8),i=e.pending_buf[e.sym_buf+a++],0===n?eA(e,i,t):(eA(e,(s=em[i])+256+1,t),0!==(o=ec[s])&&eE(e,i-=eg[s],o),eA(e,s=ev(--n),r),0!==(o=eu[s])&&eE(e,n-=ey[s],o));while(a<e.sym_next)eA(e,256,t)},ek=(e,t)=>{let r,n,i,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(r=0,e.heap_len=0,e.heap_max=el;r<l;r++)0!==s[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=o[2*i+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)eS(e,s,r);i=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],eS(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,eS(e,s,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],((e,t)=>{let r,n,i,s,o,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<el;r++)(s=l[2*l[2*(n=e.heap[r])+1]+1]+1)>p&&(s=p,_++),l[2*n+1]=s,!(n>c)&&(e.bl_count[s]++,o=0,n>=f&&(o=h[n-f]),a=l[2*n],e.opt_len+=a*(s+o),d&&(e.static_len+=a*(u[2*n+1]+o)));if(0!==_){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,_-=2}while(_>0)for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)!((i=e.heap[--r])>c)&&(l[2*i+1]!==s&&(e.opt_len+=(s-l[2*i+1])*l[2*i],l[2*i+1]=s),n--)}})(e,t),ex(s,c,e.bl_count)},eL=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=o,o=t[(n+1)*2+1],++a<l&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4))},eD=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=r;n++)if(i=o,o=t[(n+1)*2+1],!(++a<l)||i!==o){if(a<c)do eA(e,i,e.bl_tree);while(0!=--a)else 0!==i?(i!==s&&(eA(e,i,e.bl_tree),a--),eA(e,16,e.bl_tree),eE(e,a-3,2)):a<=10?(eA(e,17,e.bl_tree),eE(e,a-3,3)):(eA(e,18,e.bl_tree),eE(e,a-11,7));a=0,s=i,0===o?(l=138,c=3):i===o?(l=6,c=3):(l=7,c=4)}},eU=!1,eP=(e,t,r,n)=>{eE(e,0+ +!!n,3),eT(e),eR(e,r),eR(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r};var eB={_tr_init:e=>{eU||((()=>{let e,i,s,o,a,l=Array(16);for(o=0,s=0;o<28;o++)for(e=0,eg[o]=s;e<1<<ec[o];e++)em[s++]=o;for(em[s-1]=o,a=0,o=0;o<16;o++)for(e=0,ey[o]=a;e<1<<eu[o];e++)e_[a++]=o;for(a>>=7;o<30;o++)for(e=0,ey[o]=a<<7;e<1<<eu[o]-7;e++)e_[256+a++]=o;for(i=0;i<=15;i++)l[i]=0;for(e=0;e<=143;)ef[2*e+1]=8,e++,l[8]++;for(;e<=255;)ef[2*e+1]=9,e++,l[9]++;for(;e<=279;)ef[2*e+1]=7,e++,l[7]++;for(;e<=287;)ef[2*e+1]=8,e++,l[8]++;for(ex(ef,287,l),e=0;e<30;e++)ep[2*e+1]=5,ep[2*e]=eN(e,5);t=new ew(ef,ec,257,286,15),r=new ew(ep,eu,0,30,15),n=new ew([],ed,0,19,7)})(),eU=!0),e.l_desc=new eb(e.dyn_ltree,t),e.d_desc=new eb(e.dyn_dtree,r),e.bl_desc=new eb(e.bl_tree,n),e.bi_buf=0,e.bi_valid=0,eO(e)},_tr_stored_block:eP,_tr_flush_block:(e,t,r,n)=>{let i,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=0xf3ffc07f;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),ek(e,e.l_desc),ek(e,e.d_desc),o=(e=>{let t;for(eL(e,e.dyn_ltree,e.l_desc.max_code),eL(e,e.dyn_dtree,e.d_desc.max_code),ek(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*eh[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?eP(e,t,r,n):4===e.strategy||s===i?(eE(e,2+ +!!n,3),eC(e,ef,ep)):(eE(e,4+ +!!n,3),((e,t,r,n)=>{let i;for(eE(e,t-257,5),eE(e,r-1,5),eE(e,n-4,4),i=0;i<n;i++)eE(e,e.bl_tree[2*eh[i]+1],3);eD(e,e.dyn_ltree,t-1),eD(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),eC(e,e.dyn_ltree,e.dyn_dtree)),eO(e),n&&eT(e)},_tr_tally:(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(em[r]+256+1)*2]++,e.dyn_dtree[2*ev(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{eE(e,2,3),eA(e,256,ef),16===e.bi_valid?(eR(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},eM=(e,t,r,n)=>{let i=65535&e,s=e>>>16&65535,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do s=s+(i=i+t[n++]|0)|0;while(--o)i%=65521,s%=65521}return i|s<<16};let ej=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?0xedb88320^e>>>1:e>>>1;t[r]=e}return t})());var eH=(e,t,r,n)=>{let i=n+r;e^=-1;for(let r=n;r<i;r++)e=e>>>8^ej[(e^t[r])&255];return -1^e},ez={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},eK={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:eG,_tr_stored_block:eF,_tr_flush_block:eV,_tr_tally:e$,_tr_align:eZ}=eB,{Z_NO_FLUSH:eq,Z_PARTIAL_FLUSH:eX,Z_FULL_FLUSH:eY,Z_FINISH:eW,Z_BLOCK:eQ,Z_OK:eJ,Z_STREAM_END:e0,Z_STREAM_ERROR:e1,Z_DATA_ERROR:e2,Z_BUF_ERROR:e5,Z_DEFAULT_COMPRESSION:e6,Z_FILTERED:e3,Z_HUFFMAN_ONLY:e4,Z_RLE:e8,Z_FIXED:e9,Z_DEFAULT_STRATEGY:e7,Z_UNKNOWN:te,Z_DEFLATED:tt}=eK,tr=573,tn=(e,t)=>(e.msg=ez[t],t),ti=e=>2*e-9*(e>4),ts=e=>{let t=e.length;for(;--t>=0;)e[t]=0},to=e=>{let t,r,n,i=e.w_size;n=t=e.hash_size;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t)n=t=i;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)},ta=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,tl=e=>{let t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},tc=(e,t)=>{eV(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,tl(e.strm)},tu=(e,t)=>{e.pending_buf[e.pending++]=t},td=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},th=(e,t,r,n)=>{let i=e.avail_in;return(i>n&&(i=n),0===i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=eM(e.adler,t,i,r):2===e.state.wrap&&(e.adler=eH(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},tf=(e,t)=>{let r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+258,f=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(r=t)+o]!==p||c[r+o-1]!==f||c[r]!==c[s]||c[++r]!==c[s+1])continue;s+=2,r++;do;while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<h)if(n=258-(h-s),s=h-258,n>o){if(e.match_start=t,o=n,n>=a)break;f=c[s+o-1],p=c[s+o]}}while((t=d[t&u])>l&&0!=--i)return o<=e.lookahead?o:e.lookahead},tp=e=>{let t,r,n,i=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=i+(i-262)&&(e.window.set(e.window.subarray(i,i+i-r),0),e.match_start-=i,e.strstart-=i,e.block_start-=i,e.insert>e.strstart&&(e.insert=e.strstart),to(e),r+=i),0===e.strm.avail_in)break;if(t=th(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=t,e.lookahead+e.insert>=3)for(n=e.strstart-e.insert,e.ins_h=e.window[n],e.ins_h=ta(e,e.ins_h,e.window[n+1]);e.insert&&(e.ins_h=ta(e,e.ins_h,e.window[n+3-1]),e.prev[n&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=n,n++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},t_=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,o=0,a=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,n>(i=e.strstart-e.block_start)+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(0===n&&t!==eW||t===eq||n!==i+e.strm.avail_in)))break;o=+(t===eW&&n===i+e.strm.avail_in),eF(e,0,0,o),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,tl(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(th(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===o)return((a-=e.strm.avail_in)&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o)?4:t!==eq&&t!==eW&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(th(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,r=(s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s)>e.w_size?e.w_size:s,((i=e.strstart-e.block_start)>=r||(i||t===eW)&&t!==eq&&0===e.strm.avail_in&&i<=s)&&(n=i>s?s:i,o=+(t===eW&&0===e.strm.avail_in&&n===i),eF(e,e.block_start,n,o),e.block_start+=n,tl(e.strm)),o?3:1)},tm=(e,t)=>{let r,n;for(;;){if(e.lookahead<262){if(tp(e),e.lookahead<262&&t===eq)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ta(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=tf(e,r)),e.match_length>=3)if(n=e$(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=ta(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ta(e,e.ins_h,e.window[e.strstart+1]);else n=e$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(tc(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===eW)?(tc(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(tc(e,!1),0===e.strm.avail_out)?1:2},tg=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<262){if(tp(e),e.lookahead<262&&t===eq)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=ta(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=tf(e,r),e.match_length<=5&&(e.strategy===e3||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=e$(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ta(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,n&&(tc(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=e$(e,0,e.window[e.strstart-1]))&&tc(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(n=e$(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===eW)?(tc(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(tc(e,!1),0===e.strm.avail_out)?1:2};function ty(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}let tw=[new ty(0,0,0,0,t_),new ty(4,4,8,4,tm),new ty(4,5,16,8,tm),new ty(4,6,32,32,tm),new ty(4,4,16,16,tg),new ty(8,16,32,32,tg),new ty(8,16,128,128,tg),new ty(8,32,128,256,tg),new ty(32,128,258,1024,tg),new ty(32,258,258,4096,tg)];function tb(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*tr),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ts(this.dyn_ltree),ts(this.dyn_dtree),ts(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ts(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ts(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let tv=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1};var tR=(e,t)=>{if(tv(e)||t>eQ||t<0)return e?tn(e,e1):e1;let r=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===r.status&&t!==eW)return tn(e,0===e.avail_out?e5:e1);let n=r.last_flush;if(r.last_flush=t,0!==r.pending){if(tl(e),0===e.avail_out)return r.last_flush=-1,eJ}else if(0===e.avail_in&&ti(t)<=ti(n)&&t!==eW)return tn(e,e5);if(666===r.status&&0!==e.avail_in)return tn(e,e5);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let t=tt+(r.w_bits-8<<4)<<8;if(t|=(r.strategy>=e4||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(t|=32),td(r,t+=31-t%31),0!==r.strstart&&(td(r,e.adler>>>16),td(r,65535&e.adler)),e.adler=1,r.status=113,tl(e),0!==r.pending)return r.last_flush=-1,eJ}if(57===r.status){if(e.adler=0,tu(r,31),tu(r,139),tu(r,8),r.gzhead)tu(r,+!!r.gzhead.text+2*!!r.gzhead.hcrc+4*!!r.gzhead.extra+8*!!r.gzhead.name+16*!!r.gzhead.comment),tu(r,255&r.gzhead.time),tu(r,r.gzhead.time>>8&255),tu(r,r.gzhead.time>>16&255),tu(r,r.gzhead.time>>24&255),tu(r,9===r.level?2:4*(r.strategy>=e4||r.level<2)),tu(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(tu(r,255&r.gzhead.extra.length),tu(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=eH(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(tu(r,0),tu(r,0),tu(r,0),tu(r,0),tu(r,0),tu(r,9===r.level?2:4*(r.strategy>=e4||r.level<2)),tu(r,3),r.status=113,tl(e),0!==r.pending)return r.last_flush=-1,eJ}if(69===r.status){if(r.gzhead.extra){let t=r.pending,n=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+n>r.pending_buf_size;){let i=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>t&&(e.adler=eH(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex+=i,tl(e),0!==r.pending)return r.last_flush=-1,eJ;t=0,n-=i}let i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+n),r.pending),r.pending+=n,r.gzhead.hcrc&&r.pending>t&&(e.adler=eH(e.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=eH(e.adler,r.pending_buf,r.pending-n,n)),tl(e),0!==r.pending)return r.last_flush=-1,eJ;n=0}t=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,tu(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=eH(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let t,n=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>n&&(e.adler=eH(e.adler,r.pending_buf,r.pending-n,n)),tl(e),0!==r.pending)return r.last_flush=-1,eJ;n=0}t=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,tu(r,t)}while(0!==t)r.gzhead.hcrc&&r.pending>n&&(e.adler=eH(e.adler,r.pending_buf,r.pending-n,n))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(tl(e),0!==r.pending))return r.last_flush=-1,eJ;tu(r,255&e.adler),tu(r,e.adler>>8&255),e.adler=0}if(r.status=113,tl(e),0!==r.pending)return r.last_flush=-1,eJ}if(0!==e.avail_in||0!==r.lookahead||t!==eq&&666!==r.status){let n=0===r.level?t_(r,t):r.strategy===e4?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(tp(e),0===e.lookahead)){if(t===eq)return 1;break}if(e.match_length=0,r=e$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(tc(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===eW)?(tc(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(tc(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===e8?((e,t)=>{let r,n,i,s,o=e.window;for(;;){if(e.lookahead<=258){if(tp(e),e.lookahead<=258&&t===eq)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=e.strstart+258;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s)e.match_length=258-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=e$(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=e$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(tc(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===eW)?(tc(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(tc(e,!1),0===e.strm.avail_out)?1:2})(r,t):tw[r.level].func(r,t);if((3===n||4===n)&&(r.status=666),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),eJ;if(2===n&&(t===eX?eZ(r):t!==eQ&&(eF(r,0,0,!1),t===eY&&(ts(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tl(e),0===e.avail_out))return r.last_flush=-1,eJ}return t!==eW?eJ:r.wrap<=0?e0:(2===r.wrap?(tu(r,255&e.adler),tu(r,e.adler>>8&255),tu(r,e.adler>>16&255),tu(r,e.adler>>24&255),tu(r,255&e.total_in),tu(r,e.total_in>>8&255),tu(r,e.total_in>>16&255),tu(r,e.total_in>>24&255)):(td(r,e.adler>>>16),td(r,65535&e.adler)),tl(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?eJ:e0)},tE=e=>{if(tv(e))return e1;let t=e.state.status;return e.state=null,113===t?tn(e,e2):eJ};let tA=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var tN=function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(let t in r)tA(r,t)&&(e[t]=r[t])}}return e},tx=e=>{let t=0;for(let r=0,n=e.length;r<n;r++)t+=e[r].length;let r=new Uint8Array(t);for(let t=0,n=0,i=e.length;t<i;t++){let i=e[t];r.set(i,n),n+=i.length}return r};let tO=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){tO=!1}let tT=new Uint8Array(256);for(let e=0;e<256;e++)tT[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;tT[254]=tT[254]=1;var tI=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<o&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),a+=r<128?1:r<2048?2:r<65536?3:4;for(s=0,t=new Uint8Array(a),i=0;s<a;i++)(64512&(r=e.charCodeAt(i)))==55296&&i+1<o&&(64512&(n=e.charCodeAt(i+1)))==56320&&(r=65536+(r-55296<<10)+(n-56320),i++),r<128?t[s++]=r:(r<2048?t[s++]=192|r>>>6:(r<65536?t[s++]=224|r>>>12:(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63),t[s++]=128|r>>>6&63),t[s++]=128|63&r);return t},tS=(e,t)=>{let r,n,i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s=Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){s[n++]=t;continue}let o=tT[t];if(o>4){s[n++]=65533,r+=o-1;continue}for(t&=2===o?31:3===o?15:7;o>1&&r<i;)t=t<<6|63&e[r++],o--;if(o>1){s[n++]=65533;continue}t<65536?s[n++]=t:(t-=65536,s[n++]=55296|t>>10&1023,s[n++]=56320|1023&t)}var o=n;if(o<65534&&s.subarray&&tO)return String.fromCharCode.apply(null,s.length===o?s:s.subarray(0,o));let a="";for(let e=0;e<o;e++)a+=String.fromCharCode(s[e]);return a},tC=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+tT[e[r]]>t?r:t},tk=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let tL=Object.prototype.toString,{Z_NO_FLUSH:tD,Z_SYNC_FLUSH:tU,Z_FULL_FLUSH:tP,Z_FINISH:tB,Z_OK:tM,Z_STREAM_END:tj,Z_DEFAULT_COMPRESSION:tH,Z_DEFAULT_STRATEGY:tz,Z_DEFLATED:tK}=eK;function tG(e){let t,r;this.options=tN({level:tH,method:tK,chunkSize:16384,windowBits:15,memLevel:8,strategy:tz},e||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tk,this.strm.avail_out=0;let i=((e,t,r,n,i,s)=>{var o,a;let l;if(!e)return e1;let c=1;if(t===e6&&(t=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),i<1||i>9||r!==tt||n<8||n>15||t<0||t>9||s<0||s>e9||8===n&&1!==c)return tn(e,e1);8===n&&(n=9);let u=new tb;return e.state=u,u.strm=e,u.status=42,u.wrap=c,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new Uint8Array(2*u.w_size),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=t,u.strategy=s,u.method=r,(l=(e=>{if(tv(e))return tn(e,e1);e.total_in=e.total_out=0,e.data_type=te;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=+(2!==t.wrap),t.last_flush=-2,eG(t),eJ})(o=e))===eJ&&((a=o.state).window_size=2*a.w_size,ts(a.head),a.max_lazy_match=tw[a.level].max_lazy,a.good_match=tw[a.level].good_length,a.nice_match=tw[a.level].nice_length,a.max_chain_length=tw[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),l})(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(i!==tM)throw Error(ez[i]);if(n.header&&(t=this.strm,r=n.header,tv(t)||2!==t.state.wrap||(t.state.gzhead=r)),n.dictionary){let e;if(e="string"==typeof n.dictionary?tI(n.dictionary):"[object ArrayBuffer]"===tL.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,(i=((e,t)=>{let r=t.length;if(tv(e))return e1;let n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return e1;if(1===i&&(e.adler=eM(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(ts(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}let s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,tp(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do n.ins_h=ta(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++;while(--t)n.strstart=e,n.lookahead=2,tp(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,eJ})(this.strm,e))!==tM)throw Error(ez[i]);this._dict_set=!0}}function tF(e,t){let r=new tG(t);if(r.push(e,!0),r.err)throw r.msg||ez[r.err];return r.result}tG.prototype.push=function(e,t){let r,n,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(n=t===~~t?t:!0===t?tB:tD,"string"==typeof e?i.input=tI(e):"[object ArrayBuffer]"===tL.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){if(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(n===tU||n===tP)&&i.avail_out<=6){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if((r=tR(i,n))===tj)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=tE(this.strm),this.onEnd(r),this.ended=!0,r===tM;if(0===i.avail_out){this.onData(i.output);continue}if(n>0&&i.next_out>0){this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;continue}if(0===i.avail_in)break}return!0},tG.prototype.onData=function(e){this.chunks.push(e)},tG.prototype.onEnd=function(e){e===tM&&(this.result=tx(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var tV=function(e,t){let r,n,i,s,o,a,l,c,u,d,h,f,p,_,m,g,y,w,b,v,R,E,A,N,x=e.state;r=e.next_in,A=e.input,n=r+(e.avail_in-5),i=e.next_out,N=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),a=x.dmax,l=x.wsize,c=x.whave,u=x.wnext,d=x.window,h=x.hold,f=x.bits,p=x.lencode,_=x.distcode,m=(1<<x.lenbits)-1,g=(1<<x.distbits)-1;t:do for(f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),y=p[h&m];;){if(h>>>=w=y>>>24,f-=w,0==(w=y>>>16&255))N[i++]=65535&y;else if(16&w)for(b=65535&y,(w&=15)&&(f<w&&(h+=A[r++]<<f,f+=8),b+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),y=_[h&g];;){if(h>>>=w=y>>>24,f-=w,16&(w=y>>>16&255)){if(v=65535&y,f<(w&=15)&&(h+=A[r++]<<f,(f+=8)<w&&(h+=A[r++]<<f,f+=8)),(v+=h&(1<<w)-1)>a){e.msg="invalid distance too far back",x.mode=16209;break t}if(h>>>=w,f-=w,v>(w=i-s)){if((w=v-w)>c&&x.sane){e.msg="invalid distance too far back",x.mode=16209;break t}if(R=0,E=d,0===u){if(R+=l-w,w<b){b-=w;do N[i++]=d[R++];while(--w)R=i-v,E=N}}else if(u<w){if(R+=l+u-w,(w-=u)<b){b-=w;do N[i++]=d[R++];while(--w)if(R=0,u<b){b-=w=u;do N[i++]=d[R++];while(--w)R=i-v,E=N}}}else if(R+=u-w,w<b){b-=w;do N[i++]=d[R++];while(--w)R=i-v,E=N}for(;b>2;)N[i++]=E[R++],N[i++]=E[R++],N[i++]=E[R++],b-=3;b&&(N[i++]=E[R++],b>1&&(N[i++]=E[R++]))}else{R=i-v;do N[i++]=N[R++],N[i++]=N[R++],N[i++]=N[R++],b-=3;while(b>2)b&&(N[i++]=N[R++],b>1&&(N[i++]=N[R++]))}}else if((64&w)==0){y=_[(65535&y)+(h&(1<<w)-1)];continue}else{e.msg="invalid distance code",x.mode=16209;break t}break}else if((64&w)==0){y=p[(65535&y)+(h&(1<<w)-1)];continue}else if(32&w){x.mode=16191;break t}else{e.msg="invalid literal/length code",x.mode=16209;break t}break}while(r<n&&i<o)r-=b=f>>3,f-=b<<3,h&=(1<<f)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=i<o?257+(o-i):257-(i-o),x.hold=h,x.bits=f};let t$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tZ=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),tX=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tY=(e,t,r,n,i,s,o,a)=>{let l,c,u,d,h,f,p,_,m,g=a.bits,y=0,w=0,b=0,v=0,R=0,E=0,A=0,N=0,x=0,O=0,T=null,I=new Uint16Array(16),S=new Uint16Array(16),C=null;for(y=0;y<=15;y++)I[y]=0;for(w=0;w<n;w++)I[t[r+w]]++;for(v=15,R=g;v>=1&&0===I[v];v--);if(R>v&&(R=v),0===v)return i[s++]=0x1400000,i[s++]=0x1400000,a.bits=1,0;for(b=1;b<v&&0===I[b];b++);for(R<b&&(R=b),N=1,y=1;y<=15;y++)if(N<<=1,(N-=I[y])<0)return -1;if(N>0&&(0===e||1!==v))return -1;for(y=1,S[1]=0;y<15;y++)S[y+1]=S[y]+I[y];for(w=0;w<n;w++)0!==t[r+w]&&(o[S[t[r+w]]++]=w);if(0===e?(T=C=o,f=20):1===e?(T=t$,C=tZ,f=257):(T=tq,C=tX,f=0),O=0,w=0,y=b,h=s,E=R,A=0,u=-1,d=(x=1<<R)-1,1===e&&x>852||2===e&&x>592)return 1;for(;;){p=y-A,o[w]+1<f?(_=0,m=o[w]):o[w]>=f?(_=C[o[w]-f],m=T[o[w]-f]):(_=96,m=0),l=1<<y-A,b=c=1<<E;do i[h+(O>>A)+(c-=l)]=p<<24|_<<16|m;while(0!==c)for(l=1<<y-1;O&l;)l>>=1;if(0!==l?(O&=l-1,O+=l):O=0,w++,0==--I[y]){if(y===v)break;y=t[r+o[w]]}if(y>R&&(O&d)!==u){for(0===A&&(A=R),h+=b,N=1<<(E=y-A);E+A<v&&!((N-=I[E+A])<=0);)E++,N<<=1;if(x+=1<<E,1===e&&x>852||2===e&&x>592)return 1;i[u=O&d]=R<<24|E<<16|h-s}}return 0!==O&&(i[h+O]=y-A<<24|4194304),a.bits=R,0};let{Z_FINISH:tW,Z_BLOCK:tQ,Z_TREES:tJ,Z_OK:t0,Z_STREAM_END:t1,Z_NEED_DICT:t2,Z_STREAM_ERROR:t5,Z_DATA_ERROR:t6,Z_MEM_ERROR:t3,Z_BUF_ERROR:t4,Z_DEFLATED:t8}=eK,t9=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function t7(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let re=e=>{if(!e)return 1;let t=e.state;return+(!t||t.strm!==e||t.mode<16180||t.mode>16211)},rt=e=>{if(re(e))return t5;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(re(e))return t5;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,t0})(e)},rr=!0,rn=e=>{if(rr){i=new Int32Array(512),s=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(tY(1,e.lens,0,288,i,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;tY(2,e.lens,0,32,s,0,e.work,{bits:5}),rr=!1}e.lencode=i,e.lenbits=9,e.distcode=s,e.distbits=5},ri=(e,t,r,n)=>{let i,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var rs=(e,t)=>{let r,n,i,s,o,a,l,c,u,d,h,f,p,_,m,g,y,w,b,v,R,E,A,N,x=0,O=new Uint8Array(4),T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(re(e)||!e.output||!e.input&&0!==e.avail_in)return t5;16191===(r=e.state).mode&&(r.mode=16192),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,d=a,h=l,E=t0;r:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;u<16;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,O[0]=255&c,O[1]=c>>>8&255,r.check=eH(r.check,O,2,0),c=0,u=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=16209;break}if((15&c)!==t8){e.msg="unknown compression method",r.mode=16209;break}if(c>>>=4,u-=4,R=(15&c)+8,0===r.wbits&&(r.wbits=R),R>15||R>r.wbits){e.msg="invalid window size",r.mode=16209;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&c?16189:16191,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(r.flags=c,(255&r.flags)!==t8){e.msg="unknown compression method",r.mode=16209;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=16209;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(O[0]=255&c,O[1]=c>>>8&255,r.check=eH(r.check,O,2,0)),c=0,u=0,r.mode=16182;case 16182:for(;u<32;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(O[0]=255&c,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,r.check=eH(r.check,O,4,0)),c=0,u=0,r.mode=16183;case 16183:for(;u<16;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(O[0]=255&c,O[1]=c>>>8&255,r.check=eH(r.check,O,2,0)),c=0,u=0,r.mode=16184;case 16184:if(1024&r.flags){for(;u<16;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(O[0]=255&c,O[1]=c>>>8&255,r.check=eH(r.check,O,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((f=r.length)>a&&(f=a),f&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),R)),512&r.flags&&4&r.wrap&&(r.check=eH(r.check,n,f,s)),a-=f,s+=f,r.length-=f),r.length))break r;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===a)break r;f=0;do R=n[s+f++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&f<a)if(512&r.flags&&4&r.wrap&&(r.check=eH(r.check,n,f,s)),a-=f,s+=f,R)break r}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===a)break r;f=0;do R=n[s+f++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&f<a)if(512&r.flags&&4&r.wrap&&(r.check=eH(r.check,n,f,s)),a-=f,s+=f,R)break r}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;u<16;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(4&r.wrap&&c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=16209;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=16191;break;case 16189:for(;u<32;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}e.adler=r.check=t9(c),c=0,u=0,r.mode=16190;case 16190:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,t2;e.adler=r.check=1,r.mode=16191;case 16191:if(t===tQ||t===tJ)break r;case 16192:if(r.last){c>>>=7&u,u-=7&u,r.mode=16206;break}for(;u<3;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}switch(r.last=1&c,u-=1,3&(c>>>=1)){case 0:r.mode=16193;break;case 1:if(rn(r),r.mode=16199,t===tJ){c>>>=2,u-=2;break r}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=16209}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=16209;break}if(r.length=65535&c,c=0,u=0,r.mode=16194,t===tJ)break r;case 16194:r.mode=16195;case 16195:if(f=r.length){if(f>a&&(f=a),f>l&&(f=l),0===f)break r;i.set(n.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,r.length-=f;break}r.mode=16191;break;case 16196:for(;u<14;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(r.nlen=(31&c)+257,u-=5,r.ndist=(31&(c>>>=5))+1,u-=5,r.ncode=(15&(c>>>=5))+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=16209;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;u<3;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.lens[T[r.have++]]=7&c,c>>>=3,u-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},E=tY(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,E){e.msg="invalid code lengths set",r.mode=16209;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;m=(x=r.lencode[c&(1<<r.lenbits)-1])>>>24,g=x>>>16&255,y=65535&x,!(m<=u);){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(y<16)c>>>=m,u-=m,r.lens[r.have++]=y;else{if(16===y){for(N=m+2;u<N;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(c>>>=m,u-=m,0===r.have){e.msg="invalid bit length repeat",r.mode=16209;break}R=r.lens[r.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===y){for(N=m+3;u<N;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}c>>>=m,u-=m,R=0,f=3+(7&c),c>>>=3,u-=3}else{for(N=m+7;u<N;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}c>>>=m,u-=m,R=0,f=11+(127&c),c>>>=7,u-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=16209;break}for(;f--;)r.lens[r.have++]=R}}if(16209===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=16209;break}if(r.lenbits=9,A={bits:r.lenbits},E=tY(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,E){e.msg="invalid literal/lengths set",r.mode=16209;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},E=tY(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,E){e.msg="invalid distances set",r.mode=16209;break}if(r.mode=16199,t===tJ)break r;case 16199:r.mode=16200;case 16200:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,tV(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,u=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;m=(x=r.lencode[c&(1<<r.lenbits)-1])>>>24,g=x>>>16&255,y=65535&x,!(m<=u);){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(g&&(240&g)==0){for(w=m,b=g,v=y;m=(x=r.lencode[v+((c&(1<<w+b)-1)>>w)])>>>24,g=x>>>16&255,y=65535&x,!(w+m<=u);){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=m,u-=m,r.back+=m,r.length=y,0===g){r.mode=16205;break}if(32&g){r.back=-1,r.mode=16191;break}if(64&g){e.msg="invalid literal/length code",r.mode=16209;break}r.extra=15&g,r.mode=16201;case 16201:if(r.extra){for(N=r.extra;u<N;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;m=(x=r.distcode[c&(1<<r.distbits)-1])>>>24,g=x>>>16&255,y=65535&x,!(m<=u);){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if((240&g)==0){for(w=m,b=g,v=y;m=(x=r.distcode[v+((c&(1<<w+b)-1)>>w)])>>>24,g=x>>>16&255,y=65535&x,!(w+m<=u);){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}c>>>=w,u-=w,r.back+=w}if(c>>>=m,u-=m,r.back+=m,64&g){e.msg="invalid distance code",r.mode=16209;break}r.offset=y,r.extra=15&g,r.mode=16203;case 16203:if(r.extra){for(N=r.extra;u<N;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=16209;break}r.mode=16204;case 16204:if(0===l)break r;if(f=h-l,r.offset>f){if((f=r.offset-f)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=16209;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),_=r.window}else _=i,p=o-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[o++]=_[p++];while(--f)0===r.length&&(r.mode=16200);break;case 16205:if(0===l)break r;i[o++]=r.length,l--,r.mode=16200;break;case 16206:if(r.wrap){for(;u<32;){if(0===a)break r;a--,c|=n[s++]<<u,u+=8}if(h-=l,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?eH(r.check,i,h,o-h):eM(r.check,i,h,o-h)),h=l,4&r.wrap&&(r.flags?c:t9(c))!==r.check){e.msg="incorrect data check",r.mode=16209;break}c=0,u=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;u<32;){if(0===a)break r;a--,c+=n[s++]<<u,u+=8}if(4&r.wrap&&c!==(0|r.total)){e.msg="incorrect length check",r.mode=16209;break}c=0,u=0}r.mode=16208;case 16208:E=t1;break r;case 16209:E=t6;break r;case 16210:return t3;default:return t5}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<16209&&(r.mode<16206||t!==tW))&&ri(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,r.total+=h,4&r.wrap&&h&&(e.adler=r.check=r.flags?eH(r.check,i,h,e.next_out-h):eM(r.check,i,h,e.next_out-h)),e.data_type=r.bits+64*!!r.last+128*(16191===r.mode)+256*(16199===r.mode||16194===r.mode),(0===d&&0===h||t===tW)&&E===t0&&(E=t4),E},ro=e=>{if(re(e))return t5;let t=e.state;return t.window&&(t.window=null),e.state=null,t0},ra=(e,t)=>{let r,n=t.length;return re(e)||0!==(r=e.state).wrap&&16190!==r.mode?t5:16190===r.mode&&eM(1,t,n,0)!==r.check?t6:ri(e,t,n,n)?(r.mode=16210,t3):(r.havedict=1,t0)},rl=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let rc=Object.prototype.toString,{Z_NO_FLUSH:ru,Z_FINISH:rd,Z_OK:rh,Z_STREAM_END:rf,Z_NEED_DICT:rp,Z_STREAM_ERROR:r_,Z_DATA_ERROR:rm,Z_MEM_ERROR:rg}=eK;function ry(e){this.options=tN({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tk,this.strm.avail_out=0;let r=((e,t)=>{if(!e)return t5;let r=new t7;e.state=r,r.strm=e,r.window=null,r.mode=16180;let n=((e,t)=>{let r;if(re(e))return t5;let n=e.state;return(t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?t5:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,rt(e))})(e,t);return n!==t0&&(e.state=null),n})(this.strm,t.windowBits);if(r!==rh||(this.header=new rl,((e,t)=>{if(re(e))return;let r=e.state;return(2&r.wrap)==0||(r.head=t,t.done=!1)})(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=tI(t.dictionary):"[object ArrayBuffer]"===rc.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw)&&(r=ra(this.strm,t.dictionary))!==rh))throw Error(ez[r])}function rw(e,t){let r=new ry(t);if(r.push(e),r.err)throw r.msg||ez[r.err];return r.result}ry.prototype.push=function(e,t){let r,n,i,s=this.strm,o=this.options.chunkSize,a=this.options.dictionary;if(this.ended)return!1;for(n=t===~~t?t:!0===t?rd:ru,"[object ArrayBuffer]"===rc.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(0===s.avail_out&&(s.output=new Uint8Array(o),s.next_out=0,s.avail_out=o),(r=rs(s,n))===rp&&a&&((r=ra(s,a))===rh?r=rs(s,n):r===rm&&(r=rp));s.avail_in>0&&r===rf&&s.state.wrap>0&&0!==e[s.next_in];)rt(s),r=rs(s,n);switch(r){case r_:case rm:case rp:case rg:return this.onEnd(r),this.ended=!0,!1}if(i=s.avail_out,s.next_out&&(0===s.avail_out||r===rf))if("string"===this.options.to){let e=tC(s.output,s.next_out),t=s.next_out-e,r=tS(s.output,e);s.next_out=t,s.avail_out=o-t,t&&s.output.set(s.output.subarray(e,e+t),0),this.onData(r)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out));if(r!==rh||0!==i){if(r===rf)return r=ro(this.strm),this.onEnd(r),this.ended=!0,!0;if(0===s.avail_in)break}}return!0},ry.prototype.onData=function(e){this.chunks.push(e)},ry.prototype.onEnd=function(e){e===rh&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=tx(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:rb,deflate:rv,deflateRaw:rR,gzip:rE}={Deflate:tG,deflate:tF,deflateRaw:function(e,t){return(t=t||{}).raw=!0,tF(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,tF(e,t)},constants:eK},{Inflate:rA,inflate:rN,inflateRaw:rx,ungzip:rO}={Inflate:ry,inflate:rw,inflateRaw:function(e,t){return(t=t||{}).raw=!0,rw(e,t)},ungzip:rw,constants:eK};var rT=e.i(79158);let rI=e=>"version"in e;function rS(e){return new TextDecoder("utf-8").decode(e)}function rC(e){return ei.default.encode(e)}function rk(e){return e.toString("base64")}function rL(e){return er.Buffer.from(e,"base64")}function rD(e){return"accounts"in e}async function rU(e){let t=(await S.PublicKey.findProgramAddress([],e))[0];return await S.PublicKey.createWithSeed(t,"anchor:idl",e)}let rP=eo.struct([eo.publicKey("authority"),eo.vecU8("data")]);function rB(e,t,r,n){return(null==e?void 0:e.length)?e[0].name?r(e):n(e):t()}function rM(e){return e instanceof S.PublicKey?e:new S.PublicKey(e)}class rj extends TypeError{constructor(e,t){let r;const{message:n,...i}=e,{path:s}=e;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function rH(e){return"object"==typeof e&&null!=e}function rz(e){return"string"==typeof e?JSON.stringify(e):""+e}function*rK(e,t,r,n){var i;for(let s of(rH(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]),e)){let e=function(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});let{path:i,branch:s}=t,{type:o}=r,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+rz(n)+"`"}=e;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}(s,t,r,n);e&&(yield e)}}function*rG(e,t,r){void 0===r&&(r={});let{path:n=[],branch:i=[e],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(e=t.coercer(e,a),o&&"type"!==t.type&&rH(t.schema)&&rH(e)&&!Array.isArray(e)))for(let r in e)void 0===t.schema[r]&&delete e[r];let l=!0;for(let r of t.validator(e,a))l=!1,yield[r,void 0];for(let[r,c,u]of t.entries(e,a))for(let t of rG(c,u,{path:void 0===r?n:[...n,r],branch:void 0===r?i:[...i,c],coerce:s,mask:o}))t[0]?(l=!1,yield[t[0],void 0]):s&&(c=t[1],void 0===r?e=c:e instanceof Map?e.set(r,c):e instanceof Set?e.add(c):rH(e)&&(e[r]=c));if(l)for(let r of t.refiner(e,a))l=!1,yield[r,void 0];l&&(yield[void 0,e])}class rF{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:n,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=r,this.entries=o,this.coercer=s,n?this.validator=(e,t)=>rK(n(e,t),t,this,e):this.validator=()=>[],i?this.refiner=(e,t)=>rK(i(e,t),t,this,e):this.refiner=()=>[]}assert(e){var t=e,r=this;let n=r$(t,r);if(n[0])throw n[0]}create(e){return rV(e,this)}is(e){var t,r;return t=e,r=this,!r$(t,r)[0]}mask(e){var t=e,r=this;let n=r$(t,r,{coerce:!0,mask:!0});if(!n[0])return n[1];throw n[0]}validate(e,t){return void 0===t&&(t={}),r$(e,this,t)}}function rV(e,t){let r=r$(e,t,{coerce:!0});if(!r[0])return r[1];throw r[0]}function r$(e,t,r){void 0===r&&(r={});let n=rG(e,t,r),i=function(e){let{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new rj(i[0],function*(){for(let e of n)e[0]&&(yield e[0])}),void 0]:[void 0,i[1]]}function rZ(e,t){return new rF({type:e,schema:null,validator:t})}function rq(e){return new rF({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(let[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+rz(e)})}function rX(e){let t=rz(e),r=typeof e;return new rF({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+rz(r)})}function rY(e){return new rF({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function rW(){return rZ("number",e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+rz(e))}function rQ(e){return new rF({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function rJ(){return rZ("string",e=>"string"==typeof e||"Expected a string, but received: "+rz(e))}function r0(e){let t=Object.keys(e);return new rF({type:"type",schema:e,*entries(r){if(rH(r))for(let n of t)yield[n,r[n],e[n]]},validator:e=>rH(e)||"Expected an object, but received: "+rz(e)})}function r1(e){let t=e.map(e=>e.type).join(" | ");return new rF({type:"union",schema:null,coercer:(t,r)=>(e.find(e=>{let[r]=e.validate(t,{coerce:!0});return!r})||r2()).coercer(t,r),validator(r,n){let i=[];for(let t of e){let[...e]=rG(r,t,n),[s]=e;if(!s[0])return[];for(let[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+rz(r),...i]}})}function r2(){return rZ("unknown",()=>!0)}async function r5(e,t,r){if(t.length<=99)return await r6(e,t,r);{let n=Array.apply(0,Array(Math.ceil(t.length/99))).map((e,r)=>t.slice(99*r,(r+1)*99));return(await Promise.all(n.map(t=>r6(e,t,r)))).flat()}}async function r6(e,t,r){let n=null!=r?r:e.commitment,{value:i,context:s}=await e.getMultipleAccountsInfoAndContext(t,n);return i.map((e,r)=>null===e?null:{publicKey:t[r],account:e,context:s})}async function r3(e,t,r,n,i){var s;r&&r.length>0&&t.sign(...r);let o=t._compile(),a=o.serialize(),l=t._serialize(a).toString("base64"),c={encoding:"base64",commitment:null!=n?n:e.commitment};i&&(c.accounts={encoding:"base64",addresses:(Array.isArray(i)?i:o.nonProgramIds()).map(e=>e.toBase58())}),r&&r.length>0&&(c.sigVerify=!0);let u=[l,c],d=rV(await e._rpcRequest("simulateTransaction",u),r9);if("error"in d){let e;if("data"in d.error&&(e=null==(s=d.error.data)?void 0:s.logs)&&Array.isArray(e)){let t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new S.SendTransactionError("failed to simulate transaction: "+d.error.message,e)}return d.result}let r4=r8(r2());function r8(e){return r1([r0({jsonrpc:rX("2.0"),id:rJ(),result:e}),r0({jsonrpc:rX("2.0"),id:rJ(),error:r0({code:r2(),message:rJ(),data:rQ(rZ("any",()=>!0))})})])}let r9=(a=r0({err:rY(r1([r0({}),rJ()])),logs:rY(rq(rJ())),accounts:rQ(rY(rq(rY(r0({executable:rZ("boolean",e=>"boolean"==typeof e),owner:rJ(),lamports:rW(),data:rq(rJ()),rentEpoch:rQ(rW())}))))),unitsConsumed:rQ(rW())}),c=r8(l=r0({context:r0({slot:rW()}),value:a})),u=e=>"error"in e?e:{...e,result:rV(e.result,l)},new rF({...c,coercer:(e,t)=>r$(e,r4)[0]?c.coercer(e,t):c.coercer(u(e,t),t)}));class r7{constructor(e,t,r=r7.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=r7.defaultOptions()){throw Error("Provider local is not available on browser.")}static env(){throw Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var n,i,s,o;if(void 0===r&&(r=this.opts),rI(e))t&&e.sign(t);else if(e.feePayer=null!=(n=e.feePayer)?n:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(let r of t)e.partialSign(r);let a=(e=await this.wallet.signTransaction(e)).serialize();try{return await nt(this.connection,a,r)}catch(t){if(t instanceof nr){let r=rC(rI(e)?(null==(i=e.signatures)?void 0:i[0])||new Uint8Array:null!=(s=e.signature)?s:new Uint8Array),n=rI(e)?0:void 0,a=await this.connection.getTransaction(r,{commitment:"confirmed",maxSupportedTransactionVersion:n});if(a){let e=null==(o=a.meta)?void 0:o.logMessages;throw e?new S.SendTransactionError(t.message,e):t}}throw t}}async sendAll(e,t){var r,n,i;void 0===t&&(t=this.opts);let s=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash,o=e.map(e=>{var t,r;if(rI(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let n=e.tx,i=null!=(t=e.signers)?t:[];return n.feePayer=null!=(r=n.feePayer)?r:this.wallet.publicKey,n.recentBlockhash=s,i.forEach(e=>{n.partialSign(e)}),n}}),a=await this.wallet.signAllTransactions(o),l=[];for(let e=0;e<o.length;e+=1){let s=a[e],o=s.serialize();try{l.push(await nt(this.connection,o,t))}catch(e){if(e instanceof nr){let t=rC(rI(s)?(null==(r=s.signatures)?void 0:r[0])||new Uint8Array:null!=(n=s.signature)?n:new Uint8Array),o=rI(s)?0:void 0,a=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:o});if(a){let t=null==(i=a.meta)?void 0:i.logMessages;throw t?new S.SendTransactionError(e.message,t):e}}throw e}}return l}async simulate(e,t,r,n){let i,s=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash;if(rI(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),i=await r3(this.connection,e,t,r,n)),i.value.err)throw new ne(i.value);return i.value}}class ne extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function nt(e,t,r){let n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await e.sendRawTransaction(t,n),s=(await e.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new nr(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}class nr extends Error{constructor(e){super(e)}}function nn(){return null===ni?r7.local():ni}let ni=null;var ns="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,no={};Object.defineProperty(no,"__esModule",{value:!0});var na=no.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=n5=no.ANCHOR_ERROR__REQUIRE_VIOLATED=n2=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=n1=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=n0=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=nJ=no.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=nQ=no.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=nW=no.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=nY=no.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=nX=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=nq=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=nZ=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=n$=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=nV=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=nF=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=nG=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=nK=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=nz=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=nH=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=nj=no.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=nM=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=nB=no.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=nP=no.ANCHOR_ERROR__CONSTRAINT_SPACE=nU=no.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=nD=no.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=nL=no.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=nk=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=nC=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=nS=no.ANCHOR_ERROR__CONSTRAINT_ZERO=nI=no.ANCHOR_ERROR__CONSTRAINT_ADDRESS=nT=no.ANCHOR_ERROR__CONSTRAINT_CLOSE=nO=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=nx=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=nN=no.ANCHOR_ERROR__CONSTRAINT_STATE=nA=no.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=nE=no.ANCHOR_ERROR__CONSTRAINT_SEEDS=nR=no.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=nv=no.ANCHOR_ERROR__CONSTRAINT_OWNER=nb=no.ANCHOR_ERROR__CONSTRAINT_RAW=nw=no.ANCHOR_ERROR__CONSTRAINT_SIGNER=ny=no.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ng=no.ANCHOR_ERROR__CONSTRAINT_MUT=nm=no.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=n_=no.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=np=no.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=nf=no.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=nh=no.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=nd=no.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=nu=no.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=nc=no.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,nl=no.ANCHOR_ERROR__DEPRECATED=iv=no.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=ib=no.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=iw=no.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=iy=no.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=ig=no.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=im=no.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=i_=no.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ip=no.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ih=no.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=id=no.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=iu=no.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ic=no.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=il=no.ANCHOR_ERROR__INVALID_PROGRAM_ID=ia=no.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=io=no.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=is=no.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ii=no.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=ir=no.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=it=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ie=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=n7=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=n9=no.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=n8=no.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=n4=no.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=n3=no.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=n6=no.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,nc=no.ANCHOR_ERROR__INSTRUCTION_MISSING=100,nu=no.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,nd=no.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,nh=no.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,nf=no.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,np=no.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,n_=no.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,nm=no.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ng=no.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ny=no.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,nw=no.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,nb=no.ANCHOR_ERROR__CONSTRAINT_RAW=2003,nv=no.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,nR=no.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,nE=no.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,nA=no.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,nN=no.ANCHOR_ERROR__CONSTRAINT_STATE=2008,nx=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,nO=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,nT=no.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,nI=no.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,nS=no.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,nC=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,nk=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,nL=no.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,nD=no.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,nU=no.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,nP=no.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,nB=no.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,nM=no.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,nj=no.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,nH=no.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,nz=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,nK=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,nG=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,nF=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,nV=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,n$=no.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,nZ=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,nq=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,nX=no.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,nY=no.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,nW=no.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,nQ=no.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,nJ=no.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,n0=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,n1=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,n2=no.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,n5=no.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;na=no.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var n6=no.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,n3=no.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,n4=no.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,n8=no.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,n9=no.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,n7=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ie=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,it=no.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,ir=no.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,ii=no.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,is=no.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,io=no.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,ia=no.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,il=no.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ic=no.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,iu=no.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,id=no.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ih=no.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ip=no.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,i_=no.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,im=no.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,ig=no.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,iy=no.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,iw=no.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,ib=no.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,iv=no.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;nl=no.ANCHOR_ERROR__DEPRECATED=5e3;let iR=new Map;function iE(e){return void 0!==iR.get(e)}class iA extends Error{constructor(e){super(e),this.name="IdlError"}}class iN{constructor(e){this.stack=e}static parse(e){var t;let r=/^Program (\w*) invoke/,n=/^Program \w* success/,i=[];for(let s=0;s<e.length;s++){if(n.exec(e[s])){i.pop();continue}let o=null==(t=r.exec(e[s]))?void 0:t[1];o&&i.push(new S.PublicKey(o))}return new iN(i)}}class ix extends Error{constructor(e,t,r,n,i,s){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:i},this._programErrorStack=iN.parse(n)}static parse(e){let t;if(!e)return null;let r=e.findIndex(e=>e.startsWith("Program log: AnchorError"));if(-1===r)return null;let n=e[r],i=[n];if(r+1<e.length){if("Program log: Left:"===e[r+1]){let n=/^Program log: (.*)$/,s=n.exec(e[r+2])[1],o=n.exec(e[r+4])[1];t=[new S.PublicKey(s),new S.PublicKey(o)],i.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){let n=/^Program log: (Left|Right): (.*)$/,s=n.exec(e[r+1])[2],o=n.exec(e[r+2])[2];i.push(...e.slice(r+1,r+3)),t=[s,o]}}let s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){let[r,n,o]=s.slice(1,4);return new ix({code:r,number:parseInt(n)},o,i,e,void 0,t)}if(o){let[r,n,s,a,l]=o.slice(1,6);return new ix({code:s,number:parseInt(a)},l,i,e,{file:r,line:parseInt(n)},t)}if(!a)return null;{let[r,n,s,o]=a.slice(1,5);return new ix({code:n,number:parseInt(s)},o,i,e,r,t)}}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class iO extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=iN.parse(r))}static parse(e,t){let r,n,i=e.toString();if(i.includes("custom program error:")){let e=i.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{let e=i.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{n=parseInt(r)}catch(e){return null}let s=t.get(n);return void 0!==s||void 0!==(s=iI.get(n))?new iO(n,s,e.logs):null}get program(){var e;return null==(e=this._programErrorStack)?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null==(e=this._programErrorStack)?void 0:e.stack}toString(){return this.msg}}function iT(e,t){iE("debug-logs")&&console.log("Translating error:",e);let r=ix.parse(e.logs);if(r)return r;let n=iO.parse(e,t);return n||(e.logs?(e.programErrorStack=iN.parse(e.logs),new Proxy(e,{get:function(t,r){return"programErrorStack"===r?t.programErrorStack.stack:"program"===r?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}})):e)}let iI=new Map([[nc,"8 byte instruction identifier not provided"],[nu,"Fallback functions are not supported"],[nd,"The program could not deserialize the given instruction"],[nh,"The program could not serialize the given instruction"],[nf,"The program was compiled without idl instructions"],[np,"The transaction was given an invalid program for the IDL instruction"],[n_,"IDL account must be empty in order to resize, try closing first"],[nm,"The program was compiled without `event-cpi` feature"],[ng,"A mut constraint was violated"],[ny,"A has one constraint was violated"],[nw,"A signer constraint was violated"],[nb,"A raw constraint was violated"],[nv,"An owner constraint was violated"],[nR,"A rent exemption constraint was violated"],[nE,"A seeds constraint was violated"],[nA,"An executable constraint was violated"],[nN,"Deprecated Error, feel free to replace with something else"],[nx,"An associated constraint was violated"],[nO,"An associated init constraint was violated"],[nT,"A close constraint was violated"],[nI,"An address constraint was violated"],[nS,"Expected zero account discriminant"],[nC,"A token mint constraint was violated"],[nk,"A token owner constraint was violated"],[nL,"A mint mint authority constraint was violated"],[nD,"A mint freeze authority constraint was violated"],[nU,"A mint decimals constraint was violated"],[nP,"A space constraint was violated"],[nB,"A required account for the constraint is None"],[nM,"A token account token program constraint was violated"],[nj,"A mint token program constraint was violated"],[nH,"An associated token account token program constraint was violated"],[nz,"A group pointer extension constraint was violated"],[nK,"A group pointer extension authority constraint was violated"],[nG,"A group pointer extension group address constraint was violated"],[nF,"A group member pointer extension constraint was violated"],[nV,"A group member pointer extension authority constraint was violated"],[n$,"A group member pointer extension group address constraint was violated"],[nZ,"A metadata pointer extension constraint was violated"],[nq,"A metadata pointer extension authority constraint was violated"],[nX,"A metadata pointer extension metadata address constraint was violated"],[nY,"A close authority constraint was violated"],[nW,"A close authority extension authority constraint was violated"],[nQ,"A permanent delegate extension constraint was violated"],[nJ,"A permanent delegate extension delegate constraint was violated"],[n0,"A transfer hook extension constraint was violated"],[n1,"A transfer hook extension authority constraint was violated"],[n2,"A transfer hook extension transfer hook program id constraint was violated"],[n5,"A require expression was violated"],[na,"A require_eq expression was violated"],[n6,"A require_keys_eq expression was violated"],[n3,"A require_neq expression was violated"],[n4,"A require_keys_neq expression was violated"],[n8,"A require_gt expression was violated"],[n9,"A require_gte expression was violated"],[n7,"The account discriminator was already set on this account"],[ie,"No 8 byte discriminator was found on the account"],[it,"8 byte discriminator did not match what was expected"],[ir,"Failed to deserialize the account"],[ii,"Failed to serialize the account"],[is,"Not enough account keys given to the instruction"],[io,"The given account is not mutable"],[ia,"The given account is owned by a different program than expected"],[il,"Program ID was not as expected"],[ic,"Program account is not executable"],[iu,"The given account did not sign"],[id,"The given account is not owned by the system program"],[ih,"The program expected this account to be already initialized"],[ip,"The given account is not a program data account"],[i_,"The given account is not the associated token account"],[im,"The given public key does not match the required sysvar"],[ig,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[iy,"The account was duplicated for more than one reallocation"],[iw,"The declared program id does not match the actual program id"],[ib,"You cannot/should not initialize the payer account as a program account"],[iv,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[nl,"The API being used is deprecated and should no longer be used"]]);class iS{static fieldLayout(e,t=[],r){let n=e.name;switch(e.type){case"bool":return eo.bool(n);case"u8":return eo.u8(n);case"i8":return eo.i8(n);case"u16":return eo.u16(n);case"i16":return eo.i16(n);case"u32":return eo.u32(n);case"i32":return eo.i32(n);case"f32":return eo.f32(n);case"u64":return eo.u64(n);case"i64":return eo.i64(n);case"f64":return eo.f64(n);case"u128":return eo.u128(n);case"i128":return eo.i128(n);case"u256":return eo.u256(n);case"i256":return eo.i256(n);case"bytes":return eo.vecU8(n);case"string":return eo.str(n);case"pubkey":return eo.publicKey(n);default:if("option"in e.type)return eo.option(iS.fieldLayout({type:e.type.option},t,r),n);if("vec"in e.type)return eo.vec(iS.fieldLayout({type:e.type.vec},t,r),n);if("array"in e.type){let[i,s]=e.type.array;return s=iS.resolveArrayLen(s,r),eo.array(iS.fieldLayout({type:i},t,r),s,n)}if("defined"in e.type){if(!t)throw new iA("User defined types not provided");let i=e.type.defined.name,s=t.find(e=>e.name===i);if(!s)throw new iA(`Type not found: ${e.name}`);return iS.typeDefLayout({typeDef:s,types:t,genericArgs:null!=r?r:e.type.defined.generics,name:n})}if("generic"in e.type){let n=null==r?void 0:r.at(0);if((null==n?void 0:n.kind)!=="type")throw new iA(`Invalid generic field: ${e.name}`);return iS.fieldLayout({...e,type:n.type},t)}throw new iA(`Not yet implemented: ${JSON.stringify(e.type)}`)}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:n}){switch(e.type.kind){case"struct":{let i=rB(e.type.fields,()=>[],r=>r.map(r=>{let i=n?iS.resolveGenericArgs({type:r.type,typeDef:e,genericArgs:n}):n;return iS.fieldLayout(r,t,i)}),r=>r.map((r,i)=>{let s=n?iS.resolveGenericArgs({type:r,typeDef:e,genericArgs:n}):n;return iS.fieldLayout({name:i.toString(),type:r},t,s)}));return eo.struct(i,r)}case"enum":{let i=e.type.variants.map(r=>{let i=rB(r.fields,()=>[],r=>r.map(r=>{let i=n?iS.resolveGenericArgs({type:r.type,typeDef:e,genericArgs:n}):n;return iS.fieldLayout(r,t,i)}),r=>r.map((r,i)=>{let s=n?iS.resolveGenericArgs({type:r,typeDef:e,genericArgs:n}):n;return iS.fieldLayout({name:i.toString(),type:r},t,s)}));return eo.struct(i,r.name)});if(void 0!==r)return eo.rustEnum(i).replicate(r);return eo.rustEnum(i,r)}case"type":return iS.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+iS.typeSize(e.option,t,r);if("coption"in e)return 4+iS.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[n,i]=e.array;return i=iS.resolveArrayLen(i,r),iS.typeSize(n,t,r)*i}if("defined"in e){let i=null==(n=t.types)?void 0:n.find(t=>t.name===e.defined.name);if(!i)throw new iA(`Type not found: ${JSON.stringify(e)}`);let s=n=>{let s=null!=r?r:e.defined.generics,o=s?iS.resolveGenericArgs({type:n,typeDef:i,genericArgs:s}):s;return iS.typeSize(n,t,o)};switch(i.type.kind){case"struct":return rB(i.type.fields,()=>[0],e=>e.map(e=>s(e.type)),e=>e.map(e=>s(e))).reduce((e,t)=>e+t,0);case"enum":return Math.max(...i.type.variants.map(e=>rB(e.fields,()=>[0],e=>e.map(e=>s(e.type)),e=>e.map(e=>s(e))).reduce((e,t)=>e+t,0)))+1;case"type":return iS.typeSize(i.type.alias,t,r)}}if("generic"in e){let n=null==r?void 0:r.at(0);if((null==n?void 0:n.kind)!=="type")throw new iA(`Invalid generic: ${e.generic}`);return iS.typeSize(n.type,t,r)}throw Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if("number"==typeof e)return e;if(t){let r=t.find(e=>"const"===e.kind);(null==r?void 0:r.kind)==="const"&&(e=+r.value)}if("number"!=typeof e)throw new iA("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:n}){if("object"!=typeof e)return null;for(let i in t.generics){let s=t.generics[i];if("generic"in e&&s.name===e.generic)return[r[i]];if("option"in e){let i=iS.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in e){let i=iS.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:n});if(!i||!n)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in e){let[o,a]=e.array,l="object"==typeof a,c=iS.resolveGenericArgs({type:o,typeDef:t,genericArgs:r,isDefined:n});if(c){for(let e in t.generics.slice(+i)){let n=+i+ +e;l&&t.generics[n].name===a.generic&&c.push(r[n])}if(!n)return c;if("type"===c[0].kind&&"const"===c[1].kind)return[{kind:"type",type:{array:[c[0].type,+c[1].value]}}]}if(l&&s.name===a.generic){let e=r[i];if(!n)return[e];return[{kind:"type",type:{array:[o,+e.value]}}]}break}if("defined"in e){if(!e.defined.generics)return null;return e.defined.generics.flatMap(e=>{switch(e.kind){case"type":return iS.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[e]}}).filter(e=>null!==e)}}return null}}class iC{constructor(e){this.idl=e;const t=e.instructions.map(t=>{let r=t.name,n=t.args.map(t=>iS.fieldLayout(t,e.types)),i=eo.struct(n,r);return[r,{discriminator:t.discriminator,layout:i}]});this.ixLayouts=new Map(t);const r=t.map(([e,{discriminator:t,layout:r}])=>[ei.default.encode(t),{name:e,layout:r}]);this.sighashLayouts=new Map(r)}encode(e,t){let r=er.Buffer.alloc(1e3),n=this.ixLayouts.get(e);if(!n)throw Error(`Unknown method: ${e}`);let i=n.layout.encode(t,r),s=r.slice(0,i);return er.Buffer.concat([er.Buffer.from(n.discriminator),s])}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?er.Buffer.from(e,"hex"):ei.default.decode(e));let r=e.slice(0,iL),n=e.slice(iL),i=this.sighashLayouts.get(ei.default.encode(r));return i?{name:i.name,data:i.layout.decode(n)}:null}format(e,t){return ik.format(e,t,this.idl)}}class ik{static format(e,t,r){let n=r.instructions.find(t=>e.name===t.name);if(!n)return console.error("Invalid instruction given"),null;let i=n.args.map(t=>({name:t.name,type:ik.formatIdlType(t.type),data:ik.formatIdlData(t,e.data[t.name],r.types)})),s=ik.flattenIdlAccounts(n.accounts);return{args:i,accounts:t.map((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e})}}static formatIdlType(e){if("string"==typeof e)return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){let t=e.defined.name;if(e.defined.generics){let r=e.defined.generics.map(e=>{switch(e.kind){case"type":return ik.formatIdlType(e.type);case"const":return e.value}}).join(", ");return`${t}<${r}>`}return t}throw Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if("vec"in e.type)return"["+t.map(t=>this.formatIdlData({name:"",type:e.type.vec},t,r)).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw Error("User defined types not provided");let n=e.type.defined.name,i=r.find(e=>e.name===n);if(!i)throw Error(`Type not found: ${n}`);return ik.formatIdlDataDefined(i,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+rB(e.type.fields,()=>"",e=>Object.entries(t).map(([t,n])=>{let i=e.find(e=>e.name===t);if(!i)throw Error(`Field not found: ${t}`);return t+": "+ik.formatIdlData(i,n,r)}).join(", "),e=>Object.entries(t).map(([t,n])=>t+": "+ik.formatIdlData({name:"",type:e[t]},n,r)).join(", "))+" }";case"enum":{let n=Object.keys(t)[0],i=e.type.variants.find(e=>e.name===n);if(!i)throw Error(`Unable to find variant: ${n}`);let s=t[n];return rB(i.fields,()=>n,e=>{let t=Object.keys(s).map(t=>{let n=s[t],i=e.find(e=>e.name===t);if(!i)throw Error(`Field not found: ${t}`);return t+": "+ik.formatIdlData(i,n,r)}).join(", ");return`${n} { ${t} }`},e=>{let t=Object.entries(s).map(([t,n])=>t+": "+ik.formatIdlData({name:"",type:e[t]},n,r)).join(", ");return`${n} { ${t} }`})}case"type":return ik.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(e=>{let r,n=(r=e.name.replace(/([A-Z])/g," $1")).charAt(0).toUpperCase()+r.slice(1);if(!e.hasOwnProperty("accounts"))return{...e,name:t?`${t} > ${n}`:n};{let r=t?`${t} > ${n}`:n;return ik.flattenIdlAccounts(e.accounts,r)}}).flat()}}let iL=8;class iD{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw Error("Accounts require `idl.types`");const r=e.accounts.map(e=>{let r=t.find(t=>t.name===e.name);if(!r)throw Error(`Account not found: ${e.name}`);return[e.name,iS.typeDefLayout({typeDef:r,types:t})]});this.accountLayouts=new Map(r)}async encode(e,t){let r=er.Buffer.alloc(1e3),n=this.accountLayouts.get(e);if(!n)throw Error(`Unknown account: ${e}`);let i=n.encode(t,r),s=r.slice(0,i),o=this.accountDiscriminator(e);return er.Buffer.concat([o,s])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,iL)))throw Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){let t=e.slice(0,iL),r=Array.from(this.accountLayouts.keys()).find(e=>this.accountDiscriminator(e).equals(t));if(!r)throw Error("Account not found");return this.decodeUnchecked(r,e)}decodeUnchecked(e,t){let r=t.subarray(iL),n=this.accountLayouts.get(e);if(!n)throw Error(`Unknown account: ${e}`);return n.decode(r)}memcmp(e,t){let r=this.accountDiscriminator(e);return{offset:0,bytes:ei.default.encode(t?er.Buffer.concat([r,t]):r)}}size(e){return iL+iS.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;let r=null==(t=this.idl.accounts)?void 0:t.find(t=>t.name===e);if(!r)throw Error(`Account not found: ${e}`);return er.Buffer.from(r.discriminator)}}class iU{constructor(e){var t;if(!e.events){this.layouts=new Map;return}const r=e.types;if(!r)throw Error("Events require `idl.types`");const n=e.events.map(e=>{let t=r.find(t=>t.name===e.name);if(!t)throw Error(`Event not found: ${e.name}`);return[e.name,iS.typeDefLayout({typeDef:t,types:r})]});this.layouts=new Map(n),this.discriminators=new Map((null!=(t=e.events)?t:[]).map(e=>[rk(er.Buffer.from(e.discriminator)),e.name]))}decode(e){let t;try{t=rL(e)}catch(e){return null}let r=rk(t.slice(0,8)),n=this.discriminators.get(r);if(!n)return null;let i=this.layouts.get(n);if(!i)throw Error(`Unknown event: ${n}`);return{data:i.decode(t.slice(8)),name:n}}}class iP{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(e=>!e.generics).map(e=>[e.name,iS.typeDefLayout({typeDef:e,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){let r=er.Buffer.alloc(1e3),n=this.typeLayouts.get(e);if(!n)throw Error(`Unknown type: ${e}`);let i=n.encode(t,r);return r.slice(0,i)}decode(e,t){let r=this.typeLayouts.get(e);if(!r)throw Error(`Unknown type: ${e}`);return r.decode(t)}}class iB{constructor(e){this.instruction=new iC(e),this.accounts=new iD(e),this.events=new iU(e),this.types=new iP(e)}}class iM{constructor(e,t){if(!Number.isInteger(e))throw TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw Error("Layout is abstract")}encode(e,t,r){throw Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw RangeError("indeterminate span");return this.span}replicate(e){let t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var ij=iM;class iH extends iM{isCount(){throw Error("ExternalLayout is abstract")}}class iz extends iH{constructor(e,t,r){if(!(e instanceof iM))throw TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof iK||this.layout instanceof iG}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class iK extends iM{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class iG extends iM{constructor(e,t){if(super(e,t),6<this.span)throw RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}function iF(e){let t=Math.floor(e/0x100000000);return{hi32:t,lo32:e-0x100000000*t}}function iV(e,t){return 0x100000000*e+t}class i$ extends iM{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return iV(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=iF(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class iZ extends iM{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((e,t)=>e&&t instanceof iM,!0)))throw TypeError("fields must be array of Layout instances");for(const n of("boolean"==typeof t&&void 0===r&&(r=t,t=void 0),e))if(0>n.span&&void 0===n.property)throw Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{let i=n.getSpan(e,t);return t+=i,r+i},0)}catch(e){throw RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);let r=this.makeDestinationObject();for(let n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);let n=r,i=0,s=0;for(let n of this.fields){let o=n.span;if(s=0<o?o:0,void 0!==n.property){let i=e[n.property];void 0!==i&&(s=n.encode(i,t,r),0>o&&(o=n.getSpan(t,r)))}i=r,r+=o}return i+s-n}fromArray(e){let t=this.makeDestinationObject();for(let r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw TypeError("property must be string");for(let t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw TypeError("property must be string");let t=0;for(let r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class iq{constructor(e){this.property=e}decode(){throw Error("UnionDiscriminator is abstract")}encode(){throw Error("UnionDiscriminator is abstract")}}class iX extends iq{constructor(e,t){if(!(e instanceof iH&&e.isCount()))throw TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class iY extends iM{constructor(e,t,r){const n=e instanceof iK||e instanceof iG;if(n)e=new iX(new iz(e));else if(e instanceof iH&&e.isCount())e=new iX(e);else if(!(e instanceof iq))throw TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof iM))throw TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&0<=(i=t.span)&&n&&(i+=e.layout.span),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=this.getVariant(e,t);if(!r)throw Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;let t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(let t in this.registry){let r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);let n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[s.property]=this.defaultLayout.decode(e,t+o)}else r=s.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);let n=this.getSourceVariant(e);if(void 0===n){let n=this.discriminator,i=this.defaultLayout,s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+i.encode(e[i.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){let n=new iW(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return g.Buffer.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class iW extends iM{constructor(e,t,r,n){if(!(e instanceof iY))throw TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof iM))throw TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw Error("variant span exceeds span of containing union");if("string"!=typeof n)throw TypeError("variant must have a String property")}let i=e.span;0>e.span&&0<=(i=r?r.span:0)&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){let r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class iQ extends iM{constructor(e,t){if(!(e instanceof iH&&e.isCount()||Number.isInteger(e)&&0<=e))throw TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof iH||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof iH&&(n=e.length),!(g.Buffer.isBuffer(e)&&n===e.length)){var i;throw TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+n+") Buffer as src"))}if(r+n>t.length)throw RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof iH&&this.length.encode(n,t,r),n}}var iJ=e=>new iK(4,e),i0=e=>new i$(e),i1=(e,t,r)=>new iZ(e,t,r),i2=(e,t,r)=>new iY(e,t,r),i5=(e,t)=>new iQ(e,t);class i6 extends ij{constructor(e){super(-1,e),this.property=e,this.layout=i1([iJ("length"),iJ("lengthPadding"),i5(((e,t,r)=>new iz(e,t,r))(iJ(),-8),"chars")],this.property)}encode(e,t,r=0){if(null==e)return this.layout.span;let n={chars:g.Buffer.from(e,"utf8")};return this.layout.encode(n,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return iJ().span+iJ().span+new en.default(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function i3(e){return new i6(e)}function i4(e){return i5(32,e)}let i8=i2(iJ("instruction"));i8.addVariant(0,i1([i0("lamports"),i0("space"),i4("owner")]),"createAccount"),i8.addVariant(1,i1([i4("owner")]),"assign"),i8.addVariant(2,i1([i0("lamports")]),"transfer"),i8.addVariant(3,i1([i4("base"),i3("seed"),i0("lamports"),i0("space"),i4("owner")]),"createAccountWithSeed"),i8.addVariant(4,i1([i4("authorized")]),"advanceNonceAccount"),i8.addVariant(5,i1([i0("lamports")]),"withdrawNonceAccount"),i8.addVariant(6,i1([i4("authorized")]),"initializeNonceAccount"),i8.addVariant(7,i1([i4("authorized")]),"authorizeNonceAccount"),i8.addVariant(8,i1([i0("space")]),"allocate"),i8.addVariant(9,i1([i4("base"),i3("seed"),i0("space"),i4("owner")]),"allocateWithSeed"),i8.addVariant(10,i1([i4("base"),i3("seed"),i4("owner")]),"assignWithSeed"),i8.addVariant(11,i1([i0("lamports"),i3("seed"),i4("owner")]),"transferWithSeed"),Object.values(i8.registry).map(e=>e.span);class i9 extends ij{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function i7(e){return new i9(i5(32),e=>new S.PublicKey(e),e=>e.toBuffer(),e)}i1([iJ("version"),iJ("state"),i7("authorizedPubkey"),i7("nonce"),i1([new class e extends iM{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);let r=e.readUInt32LE(t);return iV(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);let n=iF(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}("lamportsPerSignature")],"feeCalculator")]),new S.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new S.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var se={exports:{}};d=se.exports,h="u">typeof self?self:ns,p=f=function(){function e(){this.fetch=!1,this.DOMException=h.DOMException}return e.prototype=h,new e}(),function(e){var t={searchParams:"URLSearchParams"in p,iterable:"Symbol"in p&&"iterator"in Symbol,blob:"FileReader"in p&&"Blob"in p&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in p,arrayBuffer:"ArrayBuffer"in p};if(t.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function i(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function o(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function l(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function c(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function u(e){var t=new FileReader,r=c(t);return t.readAsArrayBuffer(e),r}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var r;t.arrayBuffer&&t.blob&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):t.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||n(e))?this._bodyArrayBuffer=d(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=l(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(u)}),this.text=function(){var e,t,r,n=l(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=c(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},t.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}a.prototype.append=function(e,t){e=i(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},a.prototype.delete=function(e){delete this.map[i(e)]},a.prototype.get=function(e){return e=i(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(i(e))},a.prototype.set=function(e,t){this.map[i(e)]=s(t)},a.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),o(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),o(e)},t.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _(e,t){var r,n,i=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new a(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),f.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},h.call(_.prototype),h.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var y=[301,302,303,307,308];g.redirect=function(e,t){if(-1===y.indexOf(t))throw RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.DOMException=p.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(r,n){return new Promise(function(i,s){var o=new _(r,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function c(){l.abort()}l.onload=function(){var e,t,r={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new a,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in l?l.responseURL:r.headers.get("X-Request-URL"),i(new g("response"in l?l.response:l.responseText,r))},l.onerror=function(){s(TypeError("Network request failed"))},l.ontimeout=function(){s(TypeError("Network request failed"))},l.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},l.open(o.method,o.url,!0),"include"===o.credentials?l.withCredentials=!0:"omit"===o.credentials&&(l.withCredentials=!1),"responseType"in l&&t.blob&&(l.responseType="blob"),o.headers.forEach(function(e,t){l.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",c),l.onreadystatechange=function(){4===l.readyState&&o.signal.removeEventListener("abort",c)}),l.send(void 0===o._bodyInit?null:o._bodyInit)})}w.polyfill=!0,p.fetch||(p.fetch=w,p.Headers=a,p.Request=_,p.Response=g),e.Headers=a,e.Request=_,e.Response=g,e.fetch=w,Object.defineProperty(e,"__esModule",{value:!0})}({}),f.fetch.ponyfill=!0,delete f.fetch.polyfill,(d=f.fetch).default=f.fetch,d.fetch=f.fetch,d.Headers=f.Headers,d.Request=f.Request,d.Response=f.Response,se.exports=d;(_=se.exports)&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")&&_.default;eo.rustEnum([eo.struct([],"uninitialized"),eo.struct([eo.option(eo.publicKey(),"authorityAddress")],"buffer"),eo.struct([eo.publicKey("programdataAddress")],"program"),eo.struct([eo.u64("slot"),eo.option(eo.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,eo.u32());function st(e,t){var r,n;let i={},s=e.args?e.args.length:0;if(t.length>s){if(t.length!==s+1)throw Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!=(n=null==(r=e.args)?void 0:r.map(e=>e.name))?n:[]}`);i=t.pop()}return[t,i]}class sr{static build(e,t,r){if("_inner"===e.name)throw new iA("the _inner name is reserved");let n=(...i)=>{let[s,o]=st(e,[...i]);!function e(t,r={}){t.forEach(t=>{if(rD(t))e(t.accounts,r[t.name]);else if(!r[t.name])throw Error(`Account \`${t.name}\` not provided.`)})}(e.accounts,o.accounts);let a=n.accounts(o.accounts);return void 0!==o.remainingAccounts&&a.push(...o.remainingAccounts),iE("debug-logs")&&console.log("Outgoing account metas:",a),new S.TransactionInstruction({keys:a,programId:r,data:t(e.name,function(e,...t){if(e.args.length!=t.length)throw Error("Invalid argument length");let r={},n=0;return e.args.forEach(e=>{r[e.name]=t[n],n+=1}),r}(e,...s))})};return n.accounts=t=>sr.accountsArray(t,e.accounts,r,e.name),n}static accountsArray(e,t,r,n){return e?t.map(t=>{let i;if(rD(t)){let i=e[t.name];return sr.accountsArray(i,t.accounts,r,n).flat()}try{i=rM(e[t.name])}catch(e){throw Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}let s=t.optional&&i.equals(r);return{pubkey:i,isWritable:!!(t.writable&&!s),isSigner:!!(t.signer&&!s)}}).flat():[]}}class sn{static build(e,t){return(...r)=>{var n,i,s;let[,o]=st(e,[...r]),a=new S.Transaction;if(o.preInstructions&&o.instructions)throw Error("instructions is deprecated, use preInstructions");return null==(n=o.preInstructions)||n.forEach(e=>a.add(e)),null==(i=o.instructions)||i.forEach(e=>a.add(e)),a.add(t(...r)),null==(s=o.postInstructions)||s.forEach(e=>a.add(e)),a}}}class si{static build(e,t,r,n){return async(...i)=>{var s;let o=t(...i),[,a]=st(e,[...i]);if(void 0===n.sendAndConfirm)throw Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(o,null!=(s=a.signers)?s:[],a.options)}catch(e){throw iT(e,r)}}}}class ss{static build(e,t,r,n){var i;return(null!=(i=e.accounts)?i:[]).reduce((i,s)=>(i[s.name]=new so(e,s,r,n,t),i),{})}}class so{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!=n?n:nn(),this._coder=null!=i?i:new iB(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){let{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){let{value:r,context:n}=await this.getAccountInfoAndContext(e,t);return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:n}}async fetch(e,t){let{data:r}=await this.fetchNullableAndContext(e,t);if(null===r)throw Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){let{data:r,context:n}=await this.fetchNullableAndContext(e,t);if(null===r)throw Error(`Account does not exist ${e.toString()}`);return{data:r,context:n}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(e=>e?e.data:null)}async fetchMultipleAndContext(e,t){return(await r5(this._provider.connection,e.map(e=>rM(e)),t)).map(e=>{if(null==e)return null;let{account:t,context:r}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:r}})}async all(e){let t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof g.Buffer?e:void 0),r=[];return(null==t?void 0:t.offset)!=void 0&&(null==t?void 0:t.bytes)!=void 0&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(null==t?void 0:t.dataSize)!=void 0&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)}))}subscribe(e,t){let r=sa.get(e.toString());if(r)return r.ee;let n=new rT.default;e=rM(e);let i=this._provider.connection.onAccountChange(e,e=>{let t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)},t);return sa.set(e.toString(),{ee:n,listener:i}),n}async unsubscribe(e){let t=sa.get(e.toString());t?sa&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{sa.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){let r=this.size;if(void 0===this._provider.publicKey)throw Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return S.SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(rM(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(rM(e),t)}}let sa=new Map,sl="Program log: ",sc="Program data: ",su=sl.length,sd=sc.length;class sh{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new sf(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!=(r=this._eventListeners.get(e))?r:[]).concat(n)),this._eventCallbacks.set(n,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(e,t)=>{if(!e.err)for(let r of this._eventParser.parseLogs(e.logs)){let n=this._eventListeners.get(r.name);n&&n.forEach(n=>{let i=this._eventCallbacks.get(n);if(i){let[,n]=i;n(r.data,t.slot,e.signature)}})}})),n}async removeEventListener(e){let t=this._eventCallbacks.get(e);if(!t)throw Error(`Event listener ${e} doesn't exist!`);let[r]=t,n=this._eventListeners.get(r);if(!n)throw Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),n=n.filter(t=>t!==e),this._eventListeners.set(r,n),0===n.length&&this._eventListeners.delete(r),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class sf{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){let r=new s_(e),n=new sp,i=r.next();for(;null!==i;){let[e,s,o]=this.handleLog(n,i,t);e&&(yield e),s&&n.push(s),o&&n.pop(),i=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(!(e.startsWith(sl)||e.startsWith(sc)))return[null,...this.handleSystemLog(e)];{let r=e.startsWith(sl)?e.slice(su):e.slice(sd),n=this.coder.events.decode(r);if(t&&null===n)throw Error(`Unable to decode event ${r}`);return[n,null,!1]}}handleSystemLog(e){let t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class sp{constructor(){this.stack=[]}program(){if(!this.stack.length)throw Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw Error("Expected the stack to have elements");this.stack.pop()}}class s_{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class sm{static build(e,t,r,n,i,s,o){return async(...a)=>{var l;let c,u=t(...a),[,d]=st(e,[...a]);if(void 0===n.simulate)throw Error("This function requires 'Provider.simulate' to be implemented.");try{c=await n.simulate(u,d.signers,null==(l=d.options)?void 0:l.commitment)}catch(e){throw iT(e,r)}if(void 0===c)throw Error("Unable to simulate transaction");let h=c.logs;if(!h)throw Error("Simulated logs not found");let f=[];if(o.events)for(let e of new sf(s,i).parseLogs(h))f.push(e);return{events:f,raw:h}}}}function sg(e){return new sw(i5(8),e=>sv.fromBuffer(e),e=>e.toBuffer(),e)}function sy(e){return new sw(i5(32),e=>new S.PublicKey(e),e=>e.toBuffer(),e)}class sw extends ij{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class sb extends ij{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=iJ()}encode(e,t,r=0){return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){let r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+4);throw Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class sv extends en.default{toBuffer(){let e=super.toArray().reverse(),t=g.Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw Error("u64 too large");let r=g.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(8!==e.length)throw Error(`Invalid buffer length: ${e.length}`);return new sv([...e].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}let sR=i1([sy("mint"),sy("owner"),sg("amount"),new sb(sy(),"delegate"),((o=i2(new iK(1,"discriminator"),null,"state")).addVariant(0,i1([]),"uninitialized"),o.addVariant(1,i1([]),"initialized"),o.addVariant(2,i1([]),"frozen"),o),new sb(sg(),"isNative"),sg("delegatedAmount"),new sb(sy(),"closeAuthority")]);class sE{constructor(e,t,r,n,i,s,o,a){this._args=e,this._accounts=t,this._provider=r,this._programId=n,this._idlIx=i,this._idlTypes=o,this._customResolver=a,this._accountStore=new sA(r,s,n)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(16==++e)throw Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){let t=e.reduce((e,t)=>e&&e[t],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((n,i)=>{var s;i===e.length-1&&(r[n]=t),r[n]=null!=(s=r[n])?s:{},r=r[n]})}resolveOptionalsHelper(e,t){let r={};for(let n of t){let t=n.name,i=e[t];void 0!==i&&(sx(i)?rD(n)?r[t]=this.resolveOptionalsHelper(i,n.accounts):r[t]=function e(t,r){let n={};for(let i in t){let s=t[i];if(null===s){if(r)throw Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}n[i]=sx(s)?e(s,!0):rM(s)}return n}(i,!0):null!==i?r[t]=rM(i):n.optional&&(r[t]=this._programId))}return r}async resolveCustom(){if(this._customResolver){let{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(let r in e){let n=e[r];rD(n)&&this.resolveEventCpi(n.accounts,[...t,n.name]);let i=+r+1;if(i===e.length)return;let s=e[r].name,o=e[i].name;if("eventAuthority"===s&&"program"===o){let e=[...t,s],r=[...t,o];this.get(e)||this.set(e,S.PublicKey.findProgramAddressSync([g.Buffer.from("__event_authority")],this._programId)[0]),this.get(r)||this.set(r,this._programId);return}}}resolveConst(e,t=[]){for(let r of e){let e=r.name;if(rD(r))this.resolveConst(r.accounts,[...t,e]);else if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.wallet)throw Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,e],this._provider.wallet.publicKey)}r.address&&this.set([...t,e],rM(r.address))}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(let n of e){let e=n.name;if(rD(n))r+=await this.resolvePdasAndRelations(n.accounts,[...t,e]);else if((n.pda||n.relations)&&!this.get([...t,e])){r++;try{if(n.pda){let r=await Promise.all(n.pda.seeds.map(e=>this.toBuffer(e,t)));if(r.some(e=>!e))continue;let i=await this.parseProgramId(n,t),[s]=S.PublicKey.findProgramAddressSync(r,i);this.set([...t,e],s)}}catch{}try{if(n.relations){let r=this.get([...t,n.relations[0]]);if(r){let n=await this._accountStore.fetchAccount({publicKey:r});this.set([...t,e],n[e])}}}catch{}}}return r}async parseProgramId(e,t=[]){var r;if(!(null==(r=e.pda)?void 0:r.program))return this._programId;let n=await this.toBuffer(e.pda.program,t);if(!n)throw Error(`Program seed not resolved: ${e.name}`);return new S.PublicKey(n)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){let[t,...r]=e.path.split("."),n=this._idlIx.args.findIndex(e=>e.name===t);if(-1===n)throw Error(`Unable to find argument for seed: ${t}`);let i=r.reduce((e,t)=>(null!=e?e:{})[t],this._args[n]);if(void 0===i)return;let s=this.getType(this._idlIx.args[n].type,r);return this.toBufferValue(s,i)}async toBufferAccount(e,t=[]){let[r,...n]=e.path.split("."),i=this.get([...t,r]);if(!i)return;if(!n.length)return this.toBufferValue("pubkey",i);if(!e.account)throw Error(`Seed account is required in order to resolve type: ${e.path}`);let s=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),o=n;for(;o.length>0;)s=s[o[0]],o=o.slice(1);if(void 0===s)return;let a=this.getType({defined:{name:e.account}},n);return this.toBufferValue(a,s)}toBufferValue(e,t){switch(e){case"u8":case"i8":return g.Buffer.from([t]);case"u16":case"i16":return new en.default(t).toArrayLike(g.Buffer,"le",2);case"u32":case"i32":return new en.default(t).toArrayLike(g.Buffer,"le",4);case"u64":case"i64":return new en.default(t).toArrayLike(g.Buffer,"le",8);case"u128":case"i128":return new en.default(t).toArrayLike(g.Buffer,"le",16);case"u256":case"i256":return new en.default(t).toArrayLike(g.Buffer,"le",32);case"string":case"bytes":return g.Buffer.from(t);case"pubkey":return t.toBuffer();default:if(null==e?void 0:e.array)return g.Buffer.from(t);throw Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;let n=null==(r=null==e?void 0:e.defined)?void 0:r.name;if(n){if("tokenAccount"===n)switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw Error(`Unknown token account path: ${t}`)}let e=this._idlTypes.find(e=>e.name===n);if(!e)throw Error(`Type not found: ${n}`);let[r,...i]=t,s=e.type.fields.find(e=>e.name===r);if(!s)throw Error(`Field not found: ${r}`);return this.getType(s.type,i)}return e}}class sA{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){let r=e.toBase58();if(!this._cache.has(r)){let i=await this._provider.connection.getAccountInfo(e);if(null===i)throw Error(`Account not found: ${r}`);if("tokenAccount"===t){var n;let e=(n=i.data,sR.decode(n));this._cache.set(r,e)}else{let e=await this.getAccountsNs(i.owner);if(e){let t=Object.values(e)[0];if(t){let e=t.coder.accounts.decodeAny(i.data);this._cache.set(r,e)}}}}return this._cache.get(r)}async getAccountsNs(e){let t=e.toBase58();if(!this._idls[t]){let r=await sS.fetchIdl(e,this._provider);if(r){let e=new sS(r,this._provider);this._idls[t]=e.account}}return this._idls[t]}}class sN{static build(e,t,r,n,i,s,o,a,l,c,u){return(...d)=>new sO(d,n,i,s,o,a,e,t,r,l,c,u)}}function sx(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}class sO{constructor(e,t,r,n,i,s,o,a,l,c,u,d){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new sE(e,this._accounts,o,a,l,c,u,d)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class sT{static build(e,t,r,n){let i=t.accounts.find(e=>e.writable),s=!!t.returns;if(!i&&s)return async(...i)=>{let s=await r(...i),o=`Program return: ${e} `,a=s.raw.find(e=>e.startsWith(o));if(!a)throw Error("View expected return log");let l=rL(a.slice(o.length)),c=t.returns;if(!c)throw Error("View expected return type");return iS.fieldLayout({type:c},n.types).decode(l)}}}class sI{static build(e,t,r,n,i){let s,o={},a={},l={},c={},u={},d={},h=(s=new Map,e.errors&&e.errors.forEach(e=>{var t;let r=null!=(t=e.msg)?t:e.name;s.set(e.code,r)}),s),f=e.accounts?ss.build(e,t,r,n):{};return e.instructions.forEach(s=>{let p=sr.build(s,(e,r)=>t.instruction.encode(e,r),r),_=sn.build(s,p),m=si.build(s,_,h,n),g=sm.build(s,_,h,n,t,r,e),y=sT.build(r,s,g,e),w=sN.build(n,r,s,p,_,m,g,y,f,e.types||[],null==i?void 0:i(s)),b=s.name;a[b]=p,l[b]=_,o[b]=m,c[b]=g,u[b]=w,y&&(d[b]=y)}),[o,a,l,f,c,u,d]}}class sS{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=nn(),r,n){const i=function(e){let t=["name","path","account","relations","generic"],r=e=>e.split(".").map(es.default).join("."),n=e=>{for(let i in e){let s=e[i];t.includes(i)?e[i]=Array.isArray(s)?s.map(r):r(s):"object"==typeof s&&n(s)}},i=structuredClone(e);return n(i),i}(e);this._idl=i,this._rawIdl=e,this._provider=t,this._programId=rM(e.address),this._coder=null!=r?r:new iB(i),this._events=new sh(this._programId,t,this._coder);const[s,o,a,l,c,u,d]=sI.build(i,this._coder,this._programId,t,n);this.rpc=s,this.instruction=o,this.transaction=a,this.account=l,this.simulate=c,this.methods=u,this.views=d}static async at(e,t){let r=rM(e),n=await sS.fetchIdl(r,t);if(!n)throw Error(`IDL not found for program: ${e.toString()}`);return new sS(n,t)}static async fetchIdl(e,t){var r;t=null!=t?t:nn();let n=rM(e),i=await rU(n),s=await t.connection.getAccountInfo(i);return s?JSON.parse(rS(rN((r=s.data.slice(8),rP.decode(r)).data))):null}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new S.PublicKey("11111111111111111111111111111111");var sC=e.i(40946);class sk{payer;constructor(e){this.payer=e}async signTransaction(e){return e instanceof S.Transaction?e.partialSign(this.payer):e.sign([this.payer]),e}async signAllTransactions(e){return e.map(e=>(e instanceof S.Transaction?e.partialSign(this.payer):e.sign([this.payer]),e))}get publicKey(){return this.payer.publicKey}}let sL=new S.PublicKey("4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"),sD=new S.PublicKey("4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU");function sU(){let{connection:e}=(0,I.useConnection)(),t=(0,v.useWallet)(),[r,n]=(0,b.useState)(!1),[i,s]=(0,b.useState)(!0),[o,a]=(0,b.useState)(!1),[l,c]=(0,b.useState)("devnet"),[u,d]=(0,b.useState)(!1),[h,f]=(0,b.useState)([]),[p,_]=(0,b.useState)(0),R=(0,b.useRef)(null),[E,A]=(0,b.useState)(null),[N,x]=(0,b.useState)(0),[O,C]=(0,b.useState)(0),[k,L]=(0,b.useState)(0),[D,U]=(0,b.useState)(0),[P]=(0,b.useState)(()=>{let e=m.default.env.NEXT_PUBLIC_AGENT_WALLET_KEY;if(e)try{return S.Keypair.fromSecretKey(w.default.decode(e))}catch(e){console.error("Failed to load agent wallet from env:",e)}return S.Keypair.generate()}),[B]=(0,b.useState)((()=>{let e=m.default.env.NEXT_PUBLIC_HOST_WALLET_KEY;if(e)try{return S.Keypair.fromSecretKey(w.default.decode(e))}catch(e){console.error("Invalid HOST env key",e)}return S.Keypair.fromSecretKey(w.default.decode("5a27LSGzEHvVwYY8CixJy9AbZijGqRaUniV74htGaxQdFR5akbhGUJpVm1qRDSGgX8GZ2LrChrb9ho1bkQTgUsyW"))})()),M=e=>f(t=>[e,...t].slice(0,15)),j=(e,t)=>{navigator.clipboard.writeText(e),M(`${t} copied to clipboard!`)},H=async()=>{x(0),C(0),L(0),U(0),d(!0);try{let e="devnet"===l?"https://api.devnet.solana.com":"https://api.testnet.solana.com",r=new S.Connection(e,"confirmed"),n="devnet"===l?sL:sD,i=await r.getBalance(P.publicKey);x(i/S.LAMPORTS_PER_SOL);let s=await r.getParsedTokenAccountsByOwner(P.publicKey,{mint:n}),o=s.value[0]?.account.data.parsed.info.tokenAmount.uiAmount||0;C(o);let a=B.publicKey;t.connected&&t.publicKey&&(a=t.publicKey);let c=await r.getBalance(a);L(c/S.LAMPORTS_PER_SOL);let u=await r.getParsedTokenAccountsByOwner(a,{mint:n}),d=u.value[0]?.account.data.parsed.info.tokenAmount.uiAmount||0;U(d)}catch(e){console.error("Balance fetch error:",e)}finally{d(!1)}};(0,b.useEffect)(()=>{H();let e=setInterval(H,5e3);return()=>clearInterval(e)},[l,t.connected,P]),(0,b.useEffect)(()=>{let e;return r&&(e=setInterval(async()=>{try{if(_(e=>e+.001),o){let e="devnet"===l?"https://api.devnet.solana.com":"https://api.testnet.solana.com",r=new S.Connection(e,"confirmed"),n="devnet"===l?sL:sD,i=new r7(r,new sk(P),{}),s=new S.PublicKey("933eFioPwpQC5PBrC2LaDxdfAZ3StwpMAeXzeAhDW9zp"),o=new sS(sC.default,s,i),[a]=S.PublicKey.findProgramAddressSync([g.Buffer.from("stream"),P.publicKey.toBuffer()],s),c=B.publicKey;t.connected&&t.publicKey&&(c=t.publicKey);try{let e=await et(o,a,c,n);M(`[Tick] TX: ${e.slice(0,8)}... | 0.001 USDC`)}catch(e){console.error("Tick execution failed:",e)}}else Math.random()>.7&&M("[Tick] Transfer 0.001 USDC to Host");if(i){let e=R.current?.currentTime||0;e>10&&e<12&&M("[Sentry-AI] ALERT: Red Car Detected!")}}catch(e){console.error("Loop error:",e)}},1e3)),()=>clearInterval(e)},[r,i,P,o,l,t.connected]);let z=async()=>{if(o&&!i&&!t.connected)return void M("Error: Connect Wallet for Human Mode");if(r)n(!1),R.current?.pause(),M("[System] Closing Stream..."),A(null);else if(n(!0),R.current?.play(),M("------------------------------------------------"),o){M(`[System] REAL MODE ACTIVE (${l}): Initializing Session...`);try{let e="devnet"===l?"https://api.devnet.solana.com":"https://api.testnet.solana.com";new S.Connection(e,"confirmed");let t="er_"+P.publicKey.toString().slice(0,8);A(t),M(`[MagicBlock] Session Ready: ${t}`)}catch(e){console.error("Session init error:",e),M(`[Error] Session Init Failed: ${e.message}`),n(!1)}}else{let e="er_"+Math.random().toString(36).substr(2,9);A(e),M("[System] Initializing Ephemeral Rollup Session (Simulated)..."),setTimeout(()=>{M(`[MagicBlock] ER Established. ID: ${e}`),M("[Payment] Stream Started. Rate: 0.001 USDC/s")},800)}};return(0,y.jsxs)("div",{className:"min-h-screen p-4 sm:p-8 font-[family-name:var(--font-geist-sans)] bg-gray-950 text-white relative",children:[(0,y.jsxs)("div",{className:`fixed top-0 left-0 w-full text-[10px] sm:text-xs font-mono font-bold text-center py-2 border-b z-50 ${"devnet"===l?"bg-green-500/10 text-green-500 border-green-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:["â ï¸ ENVIRONMENT: ",l.toUpperCase()," - ",u?"REFRESHING...":"LIVE DATA"]}),(0,y.jsxs)("header",{className:"flex flex-col gap-6 w-full max-w-6xl mx-auto mt-12 mb-8",children:[(0,y.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 w-full text-center md:text-left",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tighter text-white",children:["Project ",(0,y.jsx)("span",{className:"text-green-400",children:"BountyVision"})]}),(0,y.jsx)("h2",{className:"text-sm sm:text-lg font-medium text-white/90 mt-1",children:"Powered by USDC PayStream"})]}),(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 items-center w-full md:w-auto",children:[(0,y.jsxs)("div",{className:"flex bg-gray-800 rounded p-1 border border-gray-700 w-full sm:w-auto justify-center",children:[(0,y.jsx)("button",{onClick:()=>c("devnet"),className:`flex-1 sm:flex-none px-3 py-1 rounded text-xs ${"devnet"===l?"bg-green-900 text-green-100":"text-gray-400"}`,children:"Devnet"}),(0,y.jsx)("button",{onClick:()=>c("testnet"),className:`flex-1 sm:flex-none px-3 py-1 rounded text-xs ${"testnet"===l?"bg-red-900 text-red-100":"text-gray-400"}`,children:"Testnet"})]}),t.connected&&(0,y.jsx)("button",{onClick:()=>{s(!i),r||M(i?"Switched to Human Mode":"Switched to AI Agent Mode")},className:`w-full sm:w-auto px-4 py-2 rounded text-sm font-mono border ${i?"bg-green-900 border-green-500 text-green-100":"border-gray-700 hover:bg-gray-800"}`,children:i?"ð¤ Agent Mode":"ð¤ Manual Mode"}),(0,y.jsx)("div",{className:"w-full sm:w-auto flex justify-center",children:(0,y.jsx)(T,{})})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full",children:[(0,y.jsxs)("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-800 flex justify-between items-center cursor-pointer hover:border-green-500/50 transition-colors",onClick:()=>j(t.connected&&t.publicKey?t.publicKey.toString():B.publicKey.toString(),"Host Address"),children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("span",{className:"text-xs sm:text-sm text-gray-400",children:t.connected?"ð¢ Project Wallet (Host)":"ð­ Demo Host"}),(0,y.jsxs)("span",{className:"text-[10px] text-gray-600 truncate max-w-[120px] sm:max-w-none",children:[(t.connected&&t.publicKey?t.publicKey:B.publicKey).toString().slice(0,6),"...",(t.connected&&t.publicKey?t.publicKey:B.publicKey).toString().slice(-4)]})]}),(0,y.jsxs)("div",{className:"text-right",children:[(0,y.jsxs)("div",{className:"font-mono text-green-400 text-sm sm:text-base",children:[D.toFixed(2)," USDC"]}),(0,y.jsxs)("div",{className:"text-[10px] text-gray-500",children:[k.toFixed(4)," SOL"]})]})]}),(0,y.jsxs)("div",{className:"bg-gray-900/50 p-3 rounded-lg border border-gray-800 flex justify-between items-center cursor-pointer hover:border-blue-500/50 transition-colors",onClick:()=>j(P.publicKey.toString(),"Agent Address"),children:[(0,y.jsxs)("div",{className:"flex flex-col",children:[(0,y.jsx)("span",{className:"text-xs sm:text-sm text-gray-400",children:"ð¤ Agent Tester Wallet"}),(0,y.jsxs)("span",{className:"text-[10px] text-gray-600 truncate max-w-[120px] sm:max-w-none",children:[P.publicKey.toString().slice(0,6),"...",P.publicKey.toString().slice(-4)]})]}),(0,y.jsx)("div",{className:"text-right",children:u?(0,y.jsx)("span",{className:"text-xs animate-pulse text-blue-400",children:"Fetching..."}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"font-mono text-blue-400 text-sm sm:text-base",children:[O.toFixed(2)," USDC"]}),(0,y.jsxs)("div",{className:"text-[10px] text-gray-500",children:[N.toFixed(4)," SOL"]})]})})]})]})]}),(0,y.jsxs)("main",{className:"flex flex-col gap-8 w-full max-w-6xl mx-auto",children:[(0,y.jsxs)("div",{className:"w-full bg-blue-900/20 border border-blue-800/50 p-4 rounded-lg flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-center md:text-left",children:[(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-2 text-blue-200",children:[(0,y.jsx)("span",{className:"text-xl",children:"â¹ï¸"}),(0,y.jsxs)("span",{children:["To run the demo, please fund these wallets on ",(0,y.jsx)("strong",{children:l.toUpperCase()}),":"]})]}),(0,y.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 font-mono text-xs w-full md:w-auto",children:[(0,y.jsxs)("div",{className:"bg-black/40 px-3 py-2 rounded flex flex-col w-full sm:w-auto",children:[(0,y.jsx)("span",{className:"text-gray-500 mb-1",children:"HOST ADDRESS"}),(0,y.jsx)("span",{className:"text-white select-all break-all sm:break-normal",children:(t.connected&&t.publicKey?t.publicKey:B.publicKey).toString()})]}),(0,y.jsxs)("div",{className:"bg-black/40 px-3 py-2 rounded flex flex-col w-full sm:w-auto",children:[(0,y.jsx)("span",{className:"text-gray-500 mb-1",children:"AGENT ADDRESS"}),(0,y.jsx)("span",{className:"text-white select-all break-all sm:break-normal",children:P.publicKey.toString()})]})]})]}),(0,y.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 w-full",children:[(0,y.jsxs)("div",{className:"flex flex-col gap-4 p-6 bg-gray-900 rounded-xl border border-gray-800 h-fit order-2 lg:order-1",children:[(0,y.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Control Center"}),(0,y.jsxs)("div",{className:"flex justify-between items-center bg-black/50 p-4 rounded-lg",children:[(0,y.jsx)("span",{className:"text-gray-400",children:"Status"}),(0,y.jsx)("span",{className:`font-mono font-bold ${r?"text-green-400 animate-pulse":"text-red-400"}`,children:r?"STREAMING":"OFFLINE"})]}),(0,y.jsxs)("div",{className:"flex justify-between items-center bg-black/50 p-4 rounded-lg",children:[(0,y.jsx)("span",{className:"text-gray-400",children:"Session Cost"}),(0,y.jsxs)("span",{className:"font-mono text-xl text-yellow-400",children:["$",p.toFixed(4)]})]}),(0,y.jsxs)("div",{className:"flex items-center gap-2 mt-4 p-2 bg-gray-800 rounded border border-gray-700",children:[(0,y.jsx)("input",{type:"checkbox",id:"realMode",checked:o,onChange:e=>a(e.target.checked),className:"w-4 h-4 text-blue-600 rounded bg-gray-700 border-gray-600"}),(0,y.jsx)("label",{htmlFor:"realMode",className:"text-xs font-medium text-gray-300 cursor-pointer select-none",children:"Enable Real Transactions"})]}),(0,y.jsx)("button",{onClick:z,className:`mt-2 py-4 rounded-lg font-bold text-lg transition-all ${r?"bg-red-600 hover:bg-red-700 text-white":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:r?"STOP AGENT":o?"START REAL STREAM":"DEPLOY AGENT TESTER"}),(0,y.jsx)("p",{className:"text-xs text-gray-500 text-center mt-2",children:o?`Connected to ${l.toUpperCase()}.`:"Simulates high-frequency micro-payments."})]}),(0,y.jsxs)("div",{className:"lg:col-span-2 relative aspect-video bg-black rounded-xl overflow-hidden border border-gray-800 group shadow-2xl order-1 lg:order-2",children:[(0,y.jsx)("video",{ref:R,src:"/assets/demo-feed.mp4",loop:!0,muted:!0,playsInline:!0,className:`w-full h-full object-cover transition-all duration-700 ${r?"filter-none":"blur-xl grayscale opacity-50"}`}),!r&&(0,y.jsx)("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:(0,y.jsx)("div",{className:"bg-black/80 px-6 py-3 rounded-full border border-gray-700 backdrop-blur-md",children:(0,y.jsx)("span",{className:"text-gray-300 font-mono text-sm sm:text-base",children:"ð Payment Required (402)"})})}),r&&i&&(0,y.jsx)("div",{className:"absolute top-4 left-4",children:(0,y.jsxs)("div",{className:"flex items-center gap-2 bg-green-900/80 text-green-400 px-3 py-1 rounded border border-green-500/50 text-xs font-mono animate-pulse",children:[(0,y.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"})," AI ANALYSIS ACTIVE"]})})]})]}),(0,y.jsxs)("div",{className:"w-full bg-black font-mono text-xs p-4 rounded-lg border border-gray-800 h-64 overflow-y-auto order-3",children:[(0,y.jsxs)("div",{className:"text-gray-500 mb-2 border-b border-gray-800 pb-2 flex justify-between",children:[(0,y.jsx)("span",{children:"System Logs"}),(0,y.jsx)("span",{className:"text-green-500",children:"â Live"})]}),(0,y.jsx)("div",{className:"flex flex-col gap-1",children:h.map((e,t)=>(0,y.jsxs)("div",{className:"text-green-500/80 border-l-2 border-transparent hover:border-green-500 pl-2 transition-all",children:[(0,y.jsxs)("span",{className:"text-gray-600 mr-2",children:["[",new Date().toLocaleTimeString(),"]"]}),e]},t))})]}),(0,y.jsxs)("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 border-t border-gray-800 pt-8 order-4",children:[(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-white",children:"Why USDC PayStream?"}),(0,y.jsxs)("p",{className:"text-gray-400 leading-relaxed text-sm sm:text-base",children:["AI Agents are the new economic actors, but they face a critical barrier: ",(0,y.jsx)("span",{className:"text-white font-medium",children:" Friction"}),". Standard crypto payments (gas fees, block times) are too slow and expensive for machine-to-machine commerce."]}),(0,y.jsxs)("div",{className:"bg-red-900/10 p-4 rounded-lg border border-red-900/30",children:[(0,y.jsx)("h4",{className:"font-bold text-red-400 mb-2 text-sm uppercase tracking-wide",children:"The Paymaster Problem"}),(0,y.jsxs)("p",{className:"text-sm text-gray-400",children:['Traditional "Gasless" solutions (EVM Paymasters) are broken for high-frequency use cases. They abstract gas, but ',(0,y.jsx)("span",{className:"text-white font-bold",children:"someone still pays L2 fees"})," for every transaction. This makes $0.001 micro-payments economically impossible."]})]}),(0,y.jsxs)("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-800",children:[(0,y.jsx)("h4",{className:"font-bold text-blue-400 mb-2",children:"The PayStream Solution"}),(0,y.jsxs)("p",{className:"text-sm text-gray-300",children:["PayStream utilizes ",(0,y.jsx)("span",{className:"text-white",children:"Ephemeral Rollups"})," to achieve ",(0,y.jsx)("span",{className:"text-white font-bold",children:"True Zero-Marginal-Cost"}),". We move the state off-chain, enabling thousands of micro-transactions per second with literally zero gas cost."]})]})]}),(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)("h3",{className:"text-xl font-bold text-white",children:"Hackathon Track: Agentic Commerce"}),(0,y.jsxs)("ul",{className:"space-y-3",children:[(0,y.jsxs)("li",{className:"flex gap-3",children:[(0,y.jsx)("div",{className:"mt-1 w-6 h-6 rounded-full bg-green-900/50 flex items-center justify-center text-green-400 text-sm",children:"â"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{className:"block text-white",children:"High Velocity"}),(0,y.jsx)("span",{className:"text-sm text-gray-400",children:"Supports 1000+ micro-transactions per second per agent."})]})]}),(0,y.jsxs)("li",{className:"flex gap-3",children:[(0,y.jsx)("div",{className:"mt-1 w-6 h-6 rounded-full bg-green-900/50 flex items-center justify-center text-green-400 text-sm",children:"â"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{className:"block text-white",children:"Gasless Experience"}),(0,y.jsx)("span",{className:"text-sm text-gray-400",children:"Agents only need USDC. No need to manage SOL for gas."})]})]}),(0,y.jsxs)("li",{className:"flex gap-3",children:[(0,y.jsx)("div",{className:"mt-1 w-6 h-6 rounded-full bg-green-900/50 flex items-center justify-center text-green-400 text-sm",children:"â"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("strong",{className:"block text-white",children:"Atomic Settlement"}),(0,y.jsx)("span",{className:"text-sm text-gray-400",children:"Instant finality ensures service stops immediately if payment stops."})]})]})]})]})]}),(0,y.jsxs)("div",{className:"w-full mt-12 border-t border-gray-800 pt-8 order-5 pb-16",children:[(0,y.jsx)("h2",{className:"text-2xl font-bold mb-8 text-center text-white",children:"Advanced Mechanics (FAQ)"}),(0,y.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,y.jsxs)("div",{className:"bg-gray-900/30 p-5 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[(0,y.jsx)("h3",{className:"font-bold text-green-400 mb-2 text-sm",children:'Q: Is an Ephemeral Rollup just a "state channel"?'}),(0,y.jsxs)("p",{className:"text-sm text-gray-400 leading-relaxed",children:["No, it's ",(0,y.jsx)("strong",{className:"text-white",children:"State Delegation"}),". Like moving a Google Doc to the cloud to type privately, then printing the PDF to L1. The state exists independently of the user once delegated."]})]}),(0,y.jsxs)("div",{className:"bg-gray-900/30 p-5 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[(0,y.jsx)("h3",{className:"font-bold text-green-400 mb-2 text-sm",children:"Q: Can we switch the recipient mid-stream?"}),(0,y.jsxs)("p",{className:"text-sm text-gray-400 leading-relaxed",children:[(0,y.jsx)("strong",{className:"text-white",children:"YES."}),' Because the "Session Wallet" is delegated to a Program, the Program can route funds to different servers (e.g., if a Load Balancer switches video hosts) without closing the session.']})]}),(0,y.jsxs)("div",{className:"bg-gray-900/30 p-5 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[(0,y.jsx)("h3",{className:"font-bold text-green-400 mb-2 text-sm",children:"Q: Can I keep the ER open and just swap users?"}),(0,y.jsxs)("p",{className:"text-sm text-gray-400 leading-relaxed",children:[(0,y.jsx)("strong",{className:"text-white",children:'YES (The "Lobby" Model).'})," Think of the ER as a Game Server. Host boots it up once. Users plug in (delegate) and unplug (undelegate). You don't have the overhead of booting a new rollup for every user."]})]}),(0,y.jsxs)("div",{className:"bg-gray-900/30 p-5 rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[(0,y.jsx)("h3",{className:"font-bold text-green-400 mb-2 text-sm",children:"Q: Is this like UDP Streaming?"}),(0,y.jsxs)("p",{className:"text-sm text-gray-400 leading-relaxed",children:[(0,y.jsx)("strong",{className:"text-white",children:"YES."}),' UDP is "connectionless" data streaming. PayStream is "frictionless" money streaming. Just like UDP drops packets if bandwidth is low, PayStream stops paying if the service stops.']})]})]})]})]})]})}e.s(["default",()=>sU],80438)}]);